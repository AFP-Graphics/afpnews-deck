(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"0ca0":function(t,e,a){},"0ce1":function(t,e,a){"use strict";var n=a("0ca0"),r=a.n(n);r.a},"0f33":function(t,e,a){"use strict";var n=a("34ab"),r=a.n(n);r.a},"34ab":function(t,e,a){},"714b":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.close,expression:"close"}],staticClass:"modal-container"},[a("div",{staticClass:"actions"},[t._t("actions")],2),a("div",{staticClass:"modal-header"},[t._t("header")],2),a("div",{staticClass:"modal-body"},[t._t("body")],2),a("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])])},r=[],s=a("2b0e"),o=a("c7db"),i=s["default"].extend({name:"Modal",mixins:[o["mixin"]],methods:{close(){this.$emit("close")}}}),u=i,c=(a("0f33"),a("2877")),l=Object(c["a"])(u,n,r,!1,null,"09edb7b6",null);e["a"]=l.exports},a55b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{on:{close:t.close},scopedSlots:t._u([{key:"actions",fn:function(){return[a("button",{staticClass:"btn btn-icon close",attrs:{"aria-label":"Close"},on:{click:t.close}},[a("i",{staticClass:"UI-icon UI-close-alt icon-small"})])]},proxy:!0},{key:"header",fn:function(){return[t.isAuthenticated?a("h1",[t._v("\n      "+t._s(t.$t("auth.success.title"))+"\n    ")]):a("h1",[t._v("\n      "+t._s(t.$t("auth.not-authenticated.title"))+"\n    ")])]},proxy:!0},{key:"body",fn:function(){return[a("form",{class:{danger:t.authError},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.login(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.username,expression:"username",modifiers:{trim:!0}}],staticClass:"inpt inpt-large inpt-bg",attrs:{id:"username",placeholder:t.$t("auth.username"),"aria-label":t.$t("auth.username"),type:"text",name:"username",autocomplete:"username",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],staticClass:"inpt inpt-large inpt-bg",attrs:{id:"password",placeholder:t.$t("auth.password"),"aria-label":t.$t("auth.password"),type:"password",name:"password",autocomplete:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("button",{staticClass:"btn btn-large",attrs:{"aria-label":"Submit",type:"submit"}},[t._v("\n        "+t._s(t.$t("submit"))+"\n      ")])])]},proxy:!0},{key:"footer",fn:function(){return[a("p",[t._v(t._s(t.$t("auth.cookies")))])]},proxy:!0}])})},r=[],s=(a("6b54"),a("1da1")),o=a("be94"),i=a("2b0e"),u=a("714b"),c=a("2f62"),l=i["default"].extend({name:"Login",metaInfo:{title:"Login"},components:{Modal:u["a"]},data(){return{username:"",password:"",authError:!1}},computed:Object(o["a"])({},Object(c["f"])(["credentials"]),Object(c["d"])(["isAuthenticated"])),methods:Object(o["a"])({},Object(c["c"])(["authenticate","refreshAllColumns"]),{login(){var t=this;return Object(s["a"])(function*(){if(t.username.includes("@afp.com"))return t.$toasted.show(t.$t("auth.warning-email").toString(),{position:"bottom-center",duration:1500,type:"error"}),t.authError=!0,!1;try{yield t.authenticate({username:t.username,password:t.password}),t.$toasted.show(t.$t("auth.success.title").toString(),{position:"bottom-center",duration:1500,type:"success"}),t.authError=!1,t.$ga.enable();const a=t.$route.query.redirect;if(a)if(Array.isArray(a)){const e=a[0];e&&t.$router.push({path:e})}else t.$router.push({path:a});else t.$router.push({name:"deck"})}catch(e){t.authError=!0}yield t.refreshAllColumns()})()},close(){this.$ga.enable(),this.$router.push({name:"deck"})}})}),d=l,m=(a("0ce1"),a("2877")),p=Object(m["a"])(d,n,r,!1,null,"015bd086",null);e["default"]=p.exports},c7db:function(t,e,a){"use strict";var n=a("2b0e");n="default"in n?n["default"]:n;var r="2.2.2",s=/^2\./.test(n.version);s||n.util.warn("VueClickaway "+r+" only supports Vue 2.x, and does not support Vue "+n.version);var o="_vue_clickaway_handler";function i(t,e,a){u(t);var n=a.context,r=e.value;if("function"===typeof r){var s=!1;setTimeout(function(){s=!0},0),t[o]=function(e){var a=e.path||(e.composedPath?e.composedPath():void 0);if(s&&(a?a.indexOf(t)<0:!t.contains(e.target)))return r.call(n,e)},document.documentElement.addEventListener("click",t[o],!1)}}function u(t){document.documentElement.removeEventListener("click",t[o],!1),delete t[o]}var c={bind:i,update:function(t,e){e.value!==e.oldValue&&i(t,e)},unbind:u},l={directives:{onClickaway:c}};e.version=r,e.directive=c,e.mixin=l}}]);
//# sourceMappingURL=login.04e6ac9e.js.map