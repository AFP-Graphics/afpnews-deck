(function(e){function t(t){for(var a,s,c=t[0],l=t[1],u=t[2],d=t[3]||[],m=0,p=[];m<c.length;m++)s=c[m],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);h&&h(t),r.push.apply(r,d);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var u=n[s];0!==i[u]&&(a=!1)}a&&(o.splice(t--,1),e=l(l.s=n[0]))}return 0===o.length&&(r.forEach((function(e){if(void 0===i[e]){i[e]=null;var t=document.createElement("link");l.nc&&t.setAttribute("nonce",l.nc),t.rel="prefetch",t.as="script",t.href=c(e),document.head.appendChild(t)}})),r.length=0),e}var a={},s={app:0},i={app:0},o=[],r=[];function c(e){return l.p+"js/"+({about:"about",login:"login",viewer:"viewer"}[e]||e)+"-legacy."+{about:"a09f2e49",login:"794694c1",viewer:"57760b17"}[e]+".js"}function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={about:1,login:1,viewer:1};s[e]?t.push(s[e]):0!==s[e]&&n[e]&&t.push(s[e]=new Promise((function(t,n){for(var a="css/"+({about:"about",login:"login",viewer:"viewer"}[e]||e)+"."+{about:"7a05a70a",login:"d9fb4ba4",viewer:"3b72725b"}[e]+".css",i=l.p+a,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var c=o[r],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===a||u===i))return t()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){c=d[r],u=c.getAttribute("data-href");if(u===a||u===i)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var a=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete s[e],m.parentNode.removeChild(m),n(o)},m.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(m)})).then((function(){s[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,n){a=i[e]=[t,n]}));t.push(a[2]=o);var r,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=c(e);var d=new Error;r=function(t){u.onerror=u.onload=null,clearTimeout(m);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",d.name="ChunkLoadError",d.type=a,d.request=s,n[1](d)}i[e]=void 0}};var m=setTimeout((function(){r({type:"timeout",target:u})}),12e4);u.onerror=u.onload=r,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var m=0;m<u.length;m++)t(u[m]);var h=d,p=function(){return o.push([0,"chunk-vendors"]),n()}();t([[],{},0,["about","login","viewer"]])})({0:function(e,t,n){e.exports=n("cd49")},"049b":function(e,t,n){"use strict";var a=n("90a2"),s=n.n(a),i=n("0613"),o=new s.a({baseUrl:"https://afp-apicore-prod.afp.com",customAuthUrl:"https://3o3qoiah2e.execute-api.eu-central-1.amazonaws.com/ondeck",saveToken:function(e){e&&i["a"].commit("setToken",e)}});t["a"]=o},"0613":function(e,t,n){"use strict";n.d(t,"b",(function(){return E}));n("d3b7"),n("3ca3"),n("ddb0"),n("96cf");var a=n("1da1"),s=n("2b0e"),i=n("2f62"),o=(n("4ec9"),n("d4ec")),r=function e(){Object(o["a"])(this,e),this.columns=[],this.documents=new Map,this.authType="unknown",this.isOnline=!0,this.displayInstallApp=!1,this.locale="fr"===Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_I18N_LOCALE?"fr":"en"},c=(n("4de4"),n("c740"),n("caad"),n("d81d"),n("2532"),n("5530")),l={getDocumentById:function(e){return function(t){return e.documents.get(t)}},getColumnByIndex:function(e){return function(t){return e.columns[t]}},getDocumentsIdsByColumnId:function(e,t){return function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.getColumnByIndex(e).documentsIds.filter((function(e){return n||!e.includes("documents-gap")}))}},getDocumentsByColumnId:function(e,t){return function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.getDocumentsIdsByColumnId(e,n).map((function(e){return t.getDocumentById(e)}))}},isAnonymous:function(e){return"anonymous"===e.authType},isAuthenticated:function(e){return"credentials"===e.authType},getPreviousDocumentIdInColById:function(e,t){return function(e,n){var a=t.getDocumentsByColumnId(e,!1),s=a.findIndex((function(e){return e.uno===n})),i=a[s+1];return i&&i.uno||!1}},getNextDocumentIdInColById:function(e,t){return function(e,n){var a=t.getDocumentsByColumnId(e,!1),s=a.findIndex((function(e){return e.uno===n})),i=a[s-1];return i&&i.uno||!1}},getFirstDocumentInCol:function(e,t){return function(e){var n=t.getDocumentsIdsByColumnId(e,!1)[0];return t.getDocumentById(n)}},getLastDocumentInCol:function(e,t){return function(e){var n=t.getDocumentsIdsByColumnId(e,!1).pop();return t.getDocumentById(n)}},getRefreshParamsByMode:function(e,t){return function(e,n){switch(n){case"reset":return t.getColumnByIndex(e).params;case"before":var a=t.getLastDocumentInCol(e),s=new Date(a.published);return s.setSeconds(s.getSeconds()-1),Object(c["a"])(Object(c["a"])({},t.getColumnByIndex(e).params),{},{dateTo:s.toISOString()});case"after":var i=t.getFirstDocumentInCol(e),o=new Date(i.published);return o.setSeconds(o.getSeconds()+1),Object(c["a"])(Object(c["a"])({},t.getColumnByIndex(e).params),{},{dateFrom:o.toISOString()});default:throw new Error("Invalid mode")}}}},u=(n("99af"),n("7db0"),n("4160"),n("c975"),n("4e82"),n("a434"),n("6062"),n("159b"),n("2909")),d=n("049b"),m=n("ec26"),h=(n("a15b"),n("ac1f"),n("1276"),n("bee2"));function p(e){if(void 0!==e){var t=new Date(e);return t instanceof Date&&!isNaN(t.valueOf())?t:void 0}}var f=function(){function e(t){Object(o["a"])(this,e),this.docSource=t}return Object(h["a"])(e,[{key:"toObject",value:function(){return{uno:this.docSource.uno,headline:this.headline,published:this.published,embargoed:this.embargoed,lang:this.docSource.lang,product:this.docSource.product,urgency:this.docSource.urgency,news:this.docSource.news,slugs:this.docSource.slug,medias:this.medias,iptc:this.docSource.iptc,source:this.docSource.source,creator:this.docSource.creator,provider:this.docSource.provider,city:this.docSource.city,country:this.docSource.country,advisory:this.docSource.advisory,status:this.docSource.status,summary:this.docSource.summary,genre:this.genre,event:this.event}}},{key:"headline",get:function(){var e=this.docSource.headline||this.docSource.title||this.docSource.news;return Array.isArray(e)?e.join(" - "):e}},{key:"embargoed",get:function(){return p(this.docSource.embargoed)}},{key:"published",get:function(){var e=p(this.docSource.published);if(!e)throw new Error("Doc ".concat(this.docSource.uno," doesn't contain a valid published date"));return e}},{key:"medias",get:function(){var e=this.docSource.bagItem;if(!e)return[];var t,n=this.docSource.entity_faces,a=e[0].medias.find((function(e){return"HighDef"===e.role}));if(n&&n[0]&&a){var s=n[0].faces[0].offsetY;t=s/a.height}return e.map((function(e){return{sizes:e.medias.sort((function(e,t){return e.width-t.width})),creator:e.creator,provider:e.provider,caption:e.caption,source:e.source,uno:e.uno,faceYOffsetPercent:t}}))}},{key:"genre",get:function(){if(this.docSource.genre)return!1===Array.isArray(this.docSource.genre)?this.docSource.genre:this.docSource.genre[0]}},{key:"event",get:function(){if(this.docSource.afpentity&&this.docSource.afpentity.event&&!1!==Array.isArray(this.docSource.afpentity.event)&&this.docSource.afpentity.event[0]&&this.docSource.afpentity.event[0].qcode&&this.docSource.afpentity.event[0].keyword)return{id:this.docSource.afpentity.event[0].qcode.split(":")[1],name:this.docSource.afpentity.event[0].keyword.split(" : ")[1]}}}]),e}(),v={addColumn:function(e,t){var n={id:Object(m["a"])(),type:"topic",params:Object.assign({},d["a"].defaultSearchParams,{products:["multimedia"],size:10,sources:["afp","AFPTV","AFP Vidéographie","AFP Videographics","AFP Vidéographic","AFPTV / AFP Videografik"]}),documentsIds:[]};t&&t.params&&(t.params=Object.assign(n.params,t.params));var a=Object.assign({},n,t);e.columns.find((function(e){return e.id===a.id}))||e.columns.push(a)},moveColumn:function(e,t){var n=t.indexCol,a=t.dir,s=e.columns.map((function(e){return e.id})),i="left"===a?n-1:n+1,o=s[n];s.splice(n,1),s.splice(i,0,o),e.columns.sort((function(e,t){return s.indexOf(e.id)-s.indexOf(t.id)}))},closeColumn:function(e,t){var n=t.indexCol;e.columns=e.columns.filter((function(e,t){return t!==n}))},resetColumn:function(e,t){var n=t.indexCol;e.columns[n].documentsIds=[]},updateColumnParams:function(e,t){var n=t.indexCol,a=t.params;e.columns[n].params=a},setToken:function(e,t){e.authType=t.authType},unsetToken:function(e){e.authType="unknown"},addDocuments:function(e,t){t.map((function(e){return new f(e).toObject()})).forEach((function(t){return e.documents.set(t.uno,t)}))},clearDocuments:function(e){e.columns.forEach((function(e){e.documentsIds=[]})),e.documents.clear()},prependDocumentsIdsToCol:function(e,t){var n=t.indexCol,a=t.documentsIds,s=e.columns[n].documentsIds,i=s.findIndex((function(e){return!e.includes("documents-gap")}));i>0&&s.splice(0,i),e.columns[n].documentsIds=Object(u["a"])(new Set(a.concat(s)))},appendDocumentsIdsToCol:function(e,t){var n=t.indexCol,a=t.documentsIds,s=e.columns[n].documentsIds;e.columns[n].documentsIds=Object(u["a"])(new Set(s.concat(a)))},setConnectivityStatus:function(e,t){e.isOnline=t},setLocale:function(e,t){e.locale=t},resetState:function(e){Object.assign(e,new r)},displayInstallApp:function(e,t){e.displayInstallApp=t},resetAllColumns:function(e){e.columns=[]}},g=(n("841c"),n("fe0b")),b=n("70cb"),w={changeLocale:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.next=3,Object(g["b"])(t);case 3:Object(b["a"])(t),a("setLocale",t);case 5:case"end":return n.stop()}}),n)})))()},logout:function(e){var t=e.commit,n=e.dispatch;return t("unsetToken"),t("clearDocuments"),t("resetAllColumns"),n("refreshAllColumns")},authenticate:function(e){var t=arguments;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,i,o,r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,i=e.dispatch,o=t.length>1&&void 0!==t[1]?t[1]:{},r=o.username,c=o.password,n.prev=2,n.next=5,d["a"].authenticate({username:r,password:c});case 5:a("clearDocuments"),i("refreshAllColumns",{mode:"reset"}),n.next=13;break;case 9:return n.prev=9,n.t0=n["catch"](2),s["default"].toasted.global.apiError(n.t0),n.abrupt("return",Promise.reject(n.t0));case 13:case"end":return n.stop()}}),n,null,[[2,9]])})))()},searchDocuments:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,s,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,s=e.dispatch,n.prev=1,s("wait/start","documents.search",{root:!0}),n.next=5,d["a"].search(t);case 5:if(i=n.sent,o=i.documents,o){n.next=9;break}return n.abrupt("return",[]);case 9:return a("addDocuments",o),n.abrupt("return",o.map((function(e){return new f(e).toObject()})));case 11:return n.prev=11,s("wait/end","documents.search",{root:!0}),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,,11,14]])})))()},refreshColumn:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,s,i,o,r,c,l,u,m,h,p,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.state,s=e.commit,i=e.dispatch,o=e.getters,r=e.rootGetters,c=t.indexCol,l=t.mode,!r["wait/is"]("column.refreshing.".concat(a.columns[c].id))){n.next=4;break}return n.abrupt("return");case 4:return n.prev=4,"reset"===l?s("resetColumn",{indexCol:c}):0===o.getDocumentsIdsByColumnId(c,!1).length&&(l="reset"),u=o.getRefreshParamsByMode(c,l),i("wait/start","column.refreshing.".concat(a.columns[c].id),{root:!0}),n.next=10,d["a"].search(u);case 10:if(m=n.sent,h=m.documents,p=m.count,h&&0!==h.length){n.next=15;break}return n.abrupt("return",!1);case 15:s("addDocuments",h),f=h.map((function(e){return e.uno})),n.t0=l,n.next="reset"===n.t0||"before"===n.t0?20:"after"===n.t0?22:25;break;case 20:return s("appendDocumentsIdsToCol",{indexCol:c,documentsIds:f}),n.abrupt("break",25);case 22:return p>h.length&&f.push("documents-gap|".concat(+new Date,"|").concat(p-h.length)),s("prependDocumentsIdsToCol",{indexCol:c,documentsIds:f}),n.abrupt("break",25);case 25:return n.abrupt("return",!0);case 26:return n.prev=26,i("wait/end","column.refreshing.".concat(a.columns[c].id),{root:!0}),n.finish(26);case 29:case"end":return n.stop()}}),n,null,[[4,,26,29]])})))()},refreshAllColumns:function(e){var t=arguments;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,i,o,r,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.state,i=e.dispatch,o=e.rootGetters,r=t.length>1&&void 0!==t[1]?t[1]:{},c=r.mode,l=void 0===c?"after":c,!o["wait/is"]("column.refreshing.all")){n.next=4;break}return n.abrupt("return");case 4:return n.prev=4,i("wait/start","column.refreshing.all",{root:!0}),n.next=8,Promise.all(a.columns.map((function(e,t){return i("refreshColumn",{indexCol:t,mode:l})})));case 8:n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](4),s["default"].toasted.global.apiError(n.t0);case 13:return n.prev=13,i("wait/end","column.refreshing.all",{root:!0}),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[4,10,13,16]])})))()},getDocument:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.prev=1,n.next=4,d["a"].get(t);case 4:i=n.sent,a("addDocuments",[i]),n.next=12;break;case 8:return n.prev=8,n.t0=n["catch"](1),s["default"].toasted.global.apiError(n.t0),n.abrupt("return",Promise.reject(n.t0));case 12:case"end":return n.stop()}}),n,null,[[1,8]])})))()}},y=w,C=n("a002"),A=n.n(C),k=(n("f79f"),n("a98c"),{columns:"afpnews-deck-columns",token:"afpnews-deck-token",client:"afpnews-deck-client",clientId:"afpnews-deck-client-id",clientSecret:"afpnews-deck-client-secret",autoRefresh:"afpnews-deck-auto-refresh",locale:"afpnews-deck-locale"}),O=A.a.createInstance({name:"userStore"}),I=A.a.createInstance({name:"documentsStore"}),x=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.getItem(k.token);case 2:n=e.sent,n&&(d["a"].token=n,t.commit("setToken",n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){e.subscribe((function(e,t){var n=e.type,a=e.payload;switch(n){case"setToken":"credentials"===a.authType?O.setItem(k.token,a):O.removeItem(k.token);break;case"unsetToken":d["a"].resetToken(),O.removeItem(k.token);break;default:}}))},P=(n("07ac"),n("3835")),j=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([k.locale,k.columns].map((function(e){return O.getItem(e)})));case 2:if(n=e.sent,a=Object(P["a"])(n,2),s=a[0],i=a[1],null===s||t.state.locale===s){e.next=9;break}return e.next=9,t.dispatch("changeLocale",s);case 9:return e.next=11,I.getItems();case 11:o=e.sent,t.commit("addDocuments",Object.values(o)),Array.isArray(i)&&i.length>0?i.forEach((function(e){return t.commit("addColumn",Object(c["a"])(Object(c["a"])({},e),{},{documentsIds:e.documentsIds.filter((function(e){return e.includes("documents-gap")||o[e]}))}))})):(t.commit("addColumn",{id:Object(m["a"])(),params:Object.assign({},d["a"].defaultSearchParams,{products:["multimedia"],topics:["Monde"],langs:["fr"],size:10,sources:["afp","AFPTV","AFP Vidéographie","AFP Videographics","AFP Vidéographic","AFPTV / AFP Videografik"]}),documentsIds:[]}),t.commit("addColumn",{id:Object(m["a"])(),params:Object.assign({},d["a"].defaultSearchParams,{products:["multimedia"],topics:["Politique"],langs:["fr"],size:10,sources:["afp","AFPTV","AFP Vidéographie","AFP Videographics","AFP Vidéographic","AFPTV / AFP Videografik"]}),documentsIds:[]}),t.commit("addColumn",{id:Object(m["a"])(),params:Object.assign({},d["a"].defaultSearchParams,{products:["multimedia"],topics:["Economie/Finances","service-eco-fr"],langs:["fr"],size:10,sources:["afp","AFPTV","AFP Vidéographie","AFP Videographics","AFP Vidéographic","AFPTV / AFP Videografik"]}),documentsIds:[]}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(e){e.subscribe(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n,a){var s,i,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=n.type,i=n.payload,t.t0=s,t.next="setLocale"===t.t0?4:"addColumn"===t.t0||"moveColumn"===t.t0||"updateColumnParams"===t.t0||"appendDocumentsIdsToCol"===t.t0||"prependDocumentsIdsToCol"===t.t0?6:"closeColumn"===t.t0||"resetColumn"===t.t0?8:"resetState"===t.t0?16:"clearDocuments"===t.t0?20:"addDocuments"===t.t0?23:25;break;case 4:return O.setItem(k.locale,i),t.abrupt("break",25);case 6:return O.setItem(k.columns,a.columns),t.abrupt("break",25);case 8:return o=[],o.concat.apply([],a.columns.map((function(e){return e.documentsIds}))),t.next=12,I.keys();case 12:return r=t.sent,r.filter((function(e){return!o.includes(e)})).forEach((function(e){return I.removeItem(e)})),O.setItem(k.columns,a.columns),t.abrupt("break",25);case 16:return O.clear(),I.clear(),e.commit("addColumn"),t.abrupt("break",25);case 20:return I.clear(),O.setItem(k.columns,a.columns),t.abrupt("break",25);case 23:return I.setItems(i.map((function(e){return{key:e.uno,value:e}}))),t.abrupt("break",25);case 25:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},$=function(e){};s["default"].use(i["b"]);var D=new i["a"]({state:new r,getters:l,mutations:v,actions:y,modules:{},plugins:[S,T,$],strict:!1}),E=(t["a"]=D,function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([x(D),j(D)]);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}())},"0a3e":function(e,t,n){},"13a5":function(e,t,n){"use strict";n("a13f")},"151d":function(e,t,n){},"18e3":function(e,t,n){},"199e":function(e,t,n){},"1ed1":function(e,t,n){"use strict";n("a932")},2476:function(e,t,n){},"2a3a":function(e,t,n){},"39c3":function(e,t,n){var a={"./en.json":"edd4","./fr.json":"f693"};function s(e){return Promise.resolve().then((function(){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}var s=a[e];return n.t(s,3)}))}s.keys=function(){return Object.keys(a)},s.id="39c3",e.exports=s},"3c4b":function(e,t,n){"use strict";n("7497")},4820:function(e,t,n){"use strict";n("151d")},"4c52":function(e,t,n){},5365:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOsAAAAsCAYAAACE50/ZAAAABHNCSVQICAgIfAhkiAAAAF96VFh0UmF3IHByb2ZpbGUgdHlwZSBBUFAxAAAImeNKT81LLcpMVigoyk/LzEnlUgADYxMuE0sTS6NEAwMDCwMIMDQwMDYEkkZAtjlUKNEABZiYm6UBoblZspkpiM8FAE+6FWgbLdiMAAAIXElEQVR4nO2d73nbNhDG3+vT71EnKDNB6AlCT1BlgsoT2J4g8gTOBlYnsDuBlAmsTiB2ArkTvP1AKKJOAAjwj0Q5+D1PnlYScDiCPOBwOMKCxMkhWQDIAUzMV58A/GP+vwSwFpH16TVLJBIgOSP5zHC2JJ9ITs+teyLxU2CMdBNhpDY2yWgTiYEgmZN87WikmiXJ7NzXlki8G1jNptueDXXHltWaN9EjJDOS+bn1SJwQY6inYHbua30v8DCW8MqRei/SpTLJCYC7wOKliCxU/QJA0UUHABCRuZI7t5f08oYqCrtqq4cxoKe29Vtwo/u0LbV78Qn7KPV3AGsAKxF566OdseG4ZwsRuTmDOsPBuOjm0lJ/3scUY5Hbha3Ra6LlNvTFtPuVtNK1k+tm9N4EtBPdJ5cAyTvL9T6fW69eYfzDeSnGumPDQEMgOeFwa9QQPVsZEe0PalNbzj5RZedtdDo1rNaq+t6NMvL+S5tK5uE4pbt3DjIAy0BDeMTedTw1GcKXIj8wD+Rji7asdXxGPGZEpATwEcA9gAcAH0Xk5axKOWhlrKgM9d25RBYmaHigWa31ZqdQxsMt44MierB9A3AD4DcxALgG8E2VuXfIu9jnQUTeROSbiMyN8Y6SaGM1I/Io3YSBmDXMrn+eTBM3E0QMGGaA0dd0JSKLeiBJRFYico9q5lmjCmi50iAv1lgvhV9jCje4v2sRuTJrla8d9VqJyHVHGTaudbTXPLgZgFtU+bo2CgBHrpHpj1mP+nXhFsA8sGyhPq98M4r57apBZmc32HgHeU1WiZ7ypM29mqK61yWAl64RbuP650Zmq90Ec82FkQGjm/d+hAr2RX9zU8YVNIoJMB2VjdTTReGp4wsSzR11TrWnGorz+pTeut9fW/ZzziqrKihTK0COi1cGBH2UjGXte9tzNq39HtWP9EfQgyLnAde8odpLD3aD6Xd/Hy79LREzyi4iq/0xgCpdKALL6XuV6wcjkIlps/Wsatp9hV/3HMAzyZig5m7yeILd01tFyPqBkfeM/UyomZj2li6DZTWxLeG/5gzAU33QCTJW06gr0FLiMAhxyfwXWX5sEdDPgeVWlu+eWHlOJ7smMwHEGOCMZGgEe0LyDvZlStnGBTZta3lvqPrzaABEZdQ2nnG8xl+Zf6X6/nu0kp7pulBlL9INNvVcbv48sp1zsY3oI989XTJgpmW1dCjMP+0KP9V+K3j8nNiWHRseuqcF7a5ioXUx5XXZbe2/jzVdZqpeo3xTT8u+U2UySz9MVRmdn7ChiuRz359xdmBRss7RKMcLNVb6159H7j+rNcfoiOynprXmbv2VBchaqrrzhvL63m/pdhu1ntbnw6LDTq7XW7DUKQJkW5eErAy2zrP6XV/33KPXQX94o8H0R39LVJvIQ5C7boiFNxH5Elj2kaTN/ZnA79La1uPvYaviGtX6ypVUsVt/fSX5oHOwO3KrPt97XNMbVOvaHQXJPDBO8qVrPMUYe1H7auVKnBCRkuQL9vGdwlauhnPpEuWqM8L9rdXpY2aNwTbr9Yl13UG/x3E2gm/u8bU8BYh/pXv2W6qy84b2NE3RUz27Hsm36BA04Ft0KdTv+jmdNcjT5bPabzaPbKnbtOGcWU1l14i7qpXR/N7UaI84R7ie8GXsvJu3UMze4IrkA6oZbwa755Cj8rRCPRkXmfq8DphF1jj0fkKes7jgjJtP6vMtSV8yTGb5XAKAiKxJLnAYqCpQeQslgL9QvfVTaqFWY2Vz7m+BHl5t68guPW5I+feuzWnT6QM234pOA4i51ntjtFNULnCmik0Z7oK60DJD9P63QcaQ6IGrU8RcRG7MszNTP2XYLzsWUEsD19aN7SaNjYcB8zhXqLKdFg3lhmq/Lb3sdZtc2YWIfIQ9LvEzpZv2Qam/MO/LXsO93zsDsGEtOHY0sza4v2NhJSJt9nbXcI/ib6iOA32JmDXWGNeg1pfb9wMRmZP8jENPKnQ/10WpPocE6z40yBgS3VYvL/3Xlh8Z7MuPCao92Y+AMtYA9/dUDJUbfN/lJAgLf2Ncs8xqILnf0e+yp1Sfc5KThnWrbl+7xUOi2/qM+Gw3J2r5cYfDjKuM5FREXrQbfAnu75gY03uPZcxAxCrSPw8sroM5ndxto6c2TOegx32Cf51T9r1ua9oUvW6DWX7McTwQ5EBtzdoU/ZVAMNze6+homU88FH+FFjRbD3eoAhlL+k9/yHEcCPnHUrRUn3UEVbNQnx89BqC3z1anzEU3bdXb6+SBsjnRxB9wo/8tAp9gmyI2Rp3B1KGtMey3OrN/LPrmtL9d9MzqmJddSt6U9r3Xja0t2o+Iuav9XqjymUWPDftNN5wH9kmjfNqPMVp6yi5p2Y+tybFmh9F+f/J6AV9yQlSwySPrXRqrae/J0+YpmEfoOmG3w8dD0+xsZKpOm0PmnIn8HNBYTTlXktDGtK3bPxhE6R4oX+l+1XAJJcBFtNHw5zTWcx6YFv0uqtHXl51mY8v4zB3NUX3GvRPsdT05sLGasrH9VvcUYvv9wKv9BW7fe+ikg3eDWbueo69atWsCGbvjWhbwr5F26/Krpu0KExzxxSyO1rFG5hX8kew1qhzfsz+Ppt98+6NA1WffoA5fq/X7NZpjHQtTv/xRv5XGPWFGjczy09slvszO0x/y/aWvdEseHlECdDj0nIdHqACBx7NwwGNdhqD2/BbmqzWqqHyQvqafjl4SQFj6ZaIrTH8+I5G4HJj+MFUicTlwuD/5+B7eo00kxgfTH1NOJC4LY7Qxf8hrS3OO0bl1T4yDs0aDf1aMAebYv2HxAfuTFUuMOAKaSCQSiUQikUgkEolEIpFIJBKJRGJI/gcBhy80HhPB+gAAAABJRU5ErkJggg=="},5593:function(e){e.exports=JSON.parse('{"fr":[{"label":"A la une","value":["La une"]},{"label":"Monde","value":["Monde"]},{"label":"France","value":["France"]},{"label":"Politique","value":["Politique"]},{"label":"Economie/Finances","value":["Economie/Finances"]},{"label":"Sport","value":["Sport"]},{"label":"Planète","value":["Environnement/Météo","Environnement"]},{"label":"Société","value":["Société/Modes de vie"]},{"label":"Tech-Media","value":["High Tech"]},{"label":"Santé","value":["Médecine/Santé"]},{"label":"Culture","value":["Culture/Art de vivre"]},{"label":"Sciences","value":["Sciences"]},{"label":"Afrique","value":["Afrique"]},{"label":"Football","value":["Football"]},{"label":"Insolite","value":["Insolite"]},{"label":"People","value":["People"]},{"label":"Faits-divers","value":["Faits-divers"]},{"label":"Galeries Photos","value":["Galerie Photos"]}],"en":[{"label":"Top Stories","value":["Top Stories"]},{"label":"International News","value":["International News"]},{"label":"Business and Tech","value":["Business and Tech"]},{"label":"Science and Environment","value":["Science-Environment"]},{"label":"Sports","value":["Sports"]},{"label":"Health and Lifestyle","value":["Health and Lifestyle"]},{"label":"Football","value":["Football"]},{"label":"Cricket","value":["Cricket"]},{"label":"Offbeat","value":["Offbeat"]},{"label":"Entertainment","value":["People and Entertainment"]},{"label":"Africa","value":["Africa"]},{"label":"Asia Pacific News","value":["Asia Pacific News"]},{"label":"Asia Business","value":["Asia Business"]},{"label":"Canada","value":["Canada"]},{"label":"Middle East","value":["Middle East"]},{"label":"South Asia Top Stories","value":["South Asia News"]},{"label":"US News","value":["US News"]},{"label":"US Politics","value":["US Politics"]},{"label":"US Sports","value":["US Sports"]},{"label":"UK News","value":["UK News"]},{"label":"Photo Gallery","value":["Photo Gallery"]}]}')},"692a":function(e,t,n){"use strict";n("2a3a")},"6d94":function(e,t,n){},"6d95":function(e,t,n){"use strict";n("199e")},"70cb":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("4de4");var a=n("2b0e"),s=n("5a0c"),i=n.n(s),o=n("4208"),r=n.n(o);n("e5b7");i.a.extend(r.a);var c={install:function(e){e.filter("fromNow",(function(e,t){return i()(e).from(i()(t))}))}};function l(e){i.a.locale(e)}a["default"].use(c)},7497:function(e,t,n){},"7ab2":function(e,t,n){},"7f9a0":function(e,t,n){"use strict";n("18e3")},"9b94":function(e,t,n){"use strict";n("b4b8")},"9cd6":function(e,t,n){"use strict";n("6d94")},a13f:function(e,t,n){},a492:function(e,t,n){"use strict";n("7ab2")},a90f:function(e,t,n){"use strict";n("0a3e")},a932:function(e,t,n){},ada6:function(e,t,n){"use strict";n("2476")},ae8d:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.doc?n("router-link",{staticClass:"article",class:{flash:1===e.doc.urgency,alerte:"photo"!==e.doc.product&&2===e.doc.urgency,urgent:"photo"!==e.doc.product&&3===e.doc.urgency,photo:"photo"===e.doc.product,multimedia:"multimedia"===e.doc.product,news:"news"===e.doc.product,video:["sidtv","parismode","afptvweb","afptv1st","videographie"].includes(e.doc.product),canceled:"Canceled"===e.doc.status},attrs:{lang:e.doc.lang,dir:"ar"===e.doc.lang?"rtl":"ltr",to:{name:"document",params:{indexCol:e.indexCol,docId:e.docId}}}},[e.doc.medias.length>0&&e.doc.medias[0].sizes.some((function(e){return"Preview"===e.role||"HighDef"===e.role}))?n("div",{staticClass:"img-container",style:{backgroundImage:"url("+e.selectPreview(e.doc.medias[0].sizes).href+")",backgroundPosition:e.doc.medias[0].faceYOffsetPercent?"0px "+100*e.doc.medias[0].faceYOffsetPercent+"%":null}},[["sidtv","parismode","afptvweb","afptv1st","videographie"].includes(e.doc.product)?n("i",{staticClass:"UI-icon UI-play-video"}):e._e()]):e._e(),n("div",{staticClass:"cols"},[e.doc.embargoed&&e.doc.embargoed>new Date?n("p",{key:"date-"+e.locale,staticClass:"date embargo"},[e._v(" Embargo : "+e._s(e._f("fromNow")(e.doc.embargoed,e.$root.$now))+" ")]):n("p",{key:"date-"+e.locale,staticClass:"date"},[e._v(" "+e._s(e._f("fromNow")(e.doc.published,e.$root.$now))+" ")]),"photo"===e.doc.product&&1===e.doc.urgency?n("p",{staticClass:"genre"},[e._v(" Topshot ")]):e.doc.genre?n("p",{staticClass:"genre"},[n("span",[e._v(" "+e._s(e.doc.genre)+" ")])]):e._e()]),"photo"!==e.doc.product?n("h2",[e._v(" "+e._s(e.doc.headline)+" ")]):e._e(),["news","multimedia"].includes(e.doc.product)&&e.doc.urgency>2&&e.doc.news&&e.doc.news[0]&&"Usable"===e.doc.status?n("p",{staticClass:"lead"},[e._v(" "+e._s(e.doc.news[0].substr(0,100)+"...")+" ")]):e._e()]):e._e()},s=[],i=(n("7db0"),n("a9e3"),n("5530")),o=n("2f62"),r={name:"Card",props:{docId:{type:String,required:!0},indexCol:{type:Number,required:!1,default:null}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(o["f"])(["locale"])),Object(o["d"])(["getDocumentById"])),{},{doc:function(){return this.getDocumentById(this.docId)}}),methods:{selectPreview:function(e){return e.find((function(e){return"Preview"===e.role}))||e.find((function(e){return"HighDef"===e.role}))}}},c=r,l=(n("7f9a0"),n("2877")),u=Object(l["a"])(c,a,s,!1,null,"fd7f99a2",null);t["a"]=u.exports},b4b8:function(e,t,n){},b814:function(e,t,n){"use strict";var a,s=n("0613"),i=n("0284");window.addEventListener("beforeinstallprompt",(function(e){a=e,s["a"].commit("displayInstallApp",!0),a.userChoice.then((function(e){var t=e.outcome;"accepted"===t&&s["a"].commit("displayInstallApp",!1),Object(i["event"])("pwa","installation",t)}))})),window.addEventListener("appinstalled",(function(e){Object(i["event"])("pwa","installation","installed")})),t["a"]=function(){a.prompt()}},c049:function(e,t,n){"use strict";n("4c52")},cd49:function(e,t,n){"use strict";n.r(t);n("b0c0"),n("ac1f"),n("5319"),n("96cf");var a=n("1da1"),s=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),i=(n("eb2f"),n("58ca"));s["default"].use(i["a"]);var o=n("a65d"),r=n.n(o),c=n("0613");s["default"].use(r.a),s["default"].toasted.register("error",(function(e){return console.error(e),e.message?"Oops.. ".concat(e.message):"Oops.. Something went wrong.."}),{type:"error",position:"bottom-center",duration:1500,singleton:!0}),s["default"].toasted.register("warn",(function(e){return console.warn(e),"Oops.. ".concat(e)}),{type:"error",position:"bottom-center",duration:1500,singleton:!0}),s["default"].toasted.register("apiError",(function(e){return 401===e.code?c["a"].dispatch("logout"):console.error(e),e.message?"Oops.. ".concat(e.message):"Oops.. Something went wrong with the API.."}),{type:"error",position:"bottom-center",duration:1e3,singleton:!0});var l=n("0284"),u=n.n(l),d=(n("99af"),n("caad"),n("a15b"),n("d81d"),n("d3b7"),n("25f0"),n("2532"),n("1276"),n("8c4f")),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("navbar"),n("shortcuts"),e.isAuthenticated?n("transition-group",{attrs:{id:"columns",name:"list",tag:"div"}},[e._l(e.columns,(function(e,t){return n("column",{key:"column-"+e.id,attrs:{"column-id":t,columnType:e.type}})})),n("add-column",{key:"add-column"})],2):e._e(),n("side-bar"),n("router-view")],1)},h=[],p=n("5530"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"column"},[n("search-params",{attrs:{"column-id":e.columnId,"column-type":e.columnType},on:{reset:e.reset,close:e.close,move:function(t){return e.move(t)}}}),n("recyclist",{ref:"recyclist",staticClass:"documents",attrs:{list:e.documents,size:10,offset:200,"is-loading":e.$wait.is("column.refreshing."+e.column.id),"no-more":e.noMore},on:{"load-top":e.loadAfter,"load-bottom":e.loadBefore},scopedSlots:e._u([{key:"tombstone",fn:function(){return[n("content-placeholders",{staticClass:"tombstone",attrs:{animated:!0,rounded:!0,centered:!1}},[n("content-placeholders-heading",{attrs:{img:!1}}),n("content-placeholders-img"),n("content-placeholders-text",{attrs:{lines:2}})],1)]},proxy:!0},{key:"item",fn:function(t){var a=t.data;return[a.includes("documents-gap")?n("div",{staticClass:"documents-gap"},[n("p",[e._v(" "+e._s(e.$tc("column.documents-gap",parseInt(a.split("|")[2]),{count:parseInt(a.split("|")[2])}))+" "),n("router-link",{attrs:{to:"/"},nativeOn:{click:function(t){return e.reset(t)}}},[e._v(" "+e._s(e.$t("column.refresh"))+" ")])],1)]):n("card",{attrs:{"doc-id":a,"index-col":e.columnId}})]}},{key:"nomore",fn:function(){return[n("span",[e._v(e._s(e.$t("column.no-result")))])]},proxy:!0}])})],1)},v=[],g=(n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"search-params"},[n("div",{key:"header",staticClass:"header"},[n("span",{staticClass:"icon"},["search"===e.columnType?n("svg",{attrs:{viewBox:"0 0 300 300"}},[n("title",[e._v("search-blue")]),n("path",{staticClass:"cls-1",attrs:{d:"M124.134,217.654a93.091,93.091,0,0,0,54-17.162L238.6,269.385h30.565l-74.2-84.185a93.518,93.518,0,1,0-70.829,32.454Zm0-164.039a70.52,70.52,0,1,1-70.519,70.519A70.6,70.6,0,0,1,124.134,53.615Z"}})]):e._e(),"topic"===e.columnType?n("svg",{attrs:{viewBox:"0 0 500 500"}},[n("title",[e._v("rubrique")]),n("path",{staticClass:"cls-1",attrs:{d:"M477.05,445.08H243.64l116.71-184.7Zm-164.63-37.9h95.85l-47.92-75.85Z"}}),n("path",{staticClass:"cls-1",attrs:{d:"M210.37,447.48H37.4v-173h173ZM75.29,409.58h97.18V312.41H75.29Z"}}),n("path",{staticClass:"cls-1",attrs:{d:"M273,227.44A86.49,86.49,0,1,1,359.44,141,86.59,86.59,0,0,1,273,227.44Zm0-135.07A48.59,48.59,0,1,0,321.55,141,48.64,48.64,0,0,0,273,92.37Z"}})]):e._e()]),"topic"===e.columnType?n("span",{staticClass:"column-title"},[e._v(e._s(e.topic[0]||e.$t("topics.all")))]):e._e(),"search"===e.columnType?n("search-input",{key:"search",staticClass:"search-input",attrs:{type:!0===e.paramsOpen?"search":"text","initial-query":e.params.query},on:{submit:e.onQueryChange}}):e._e(),n("span",{staticClass:"settings",on:{click:e.toggleFilters}},[n("svg",{attrs:{viewBox:"0 0 300 300"}},[n("title",[e._v("filter-blue")]),n("path",{staticClass:"cls-1",attrs:{d:"M109.547,47.059a49.378,49.378,0,0,0-47.878,37.57H30.824v23H61.563a49.286,49.286,0,0,0,96.021-.234H269.315v-23H157.37A49.38,49.38,0,0,0,109.547,47.059Zm0,74.6a25.3,25.3,0,1,1,25.3-25.3A25.328,25.328,0,0,1,109.547,121.657Z"}}),n("path",{staticClass:"cls-1",attrs:{d:"M176.7,252.941a49.38,49.38,0,0,0,47.875-37.557h44.372v-23H224.681a49.287,49.287,0,0,0-95.973,0H30.685v23H128.82A49.378,49.378,0,0,0,176.7,252.941Zm0-74.6a25.3,25.3,0,1,1-25.3,25.3A25.328,25.328,0,0,1,176.7,178.343Z"}})])])],1),e.paramsOpen?n("transition-group",{staticClass:"filters",attrs:{name:"curtain",tabindex:"-1",tag:"div"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.languages.length>1,expression:"languages.length > 1"}],key:"lang",staticClass:"field",attrs:{name:"lang","aria-label":"Select a language"}},[n("div",{staticClass:"control has-icons-left"},[n("div",{staticClass:"select is-fullwidth"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.lang,expression:"lang"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.lang=t.target.multiple?n:n[0]}}},e._l(e.languages,(function(t){var a=t.label,s=t.value,i=t.disabled;return n("option",{key:s.join("|"),attrs:{disabled:i},domProps:{value:s}},[e._v(" "+e._s(a)+" ")])})),0)]),n("div",{staticClass:"icon is-small is-left"},[n("svg",{attrs:{viewBox:"0 0 300 300"}},[n("title",[e._v("pin-blue")]),n("path",{staticClass:"cls-1",attrs:{d:"M76.938,38.423v-.011h-23V262.144h23V161.5H244.264L191.842,97.413l54.409-58.99ZM195.735,138.5H76.938V61.423h116.81L161.387,96.509Z"}})])])])]),"topic"===e.columnType?n("div",{directives:[{name:"show",rawName:"v-show",value:e.topics.length>1,expression:"topics.length > 1"}],key:"topic",staticClass:"field",attrs:{name:"topic","aria-label":"Select a topic"}},[n("div",{staticClass:"control has-icons-left"},[n("div",{staticClass:"select is-fullwidth"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.topic,expression:"topic"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.topic=t.target.multiple?n:n[0]}}},e._l(e.topics.filter((function(e){return!e.disabled})),(function(t){var a=t.label,s=t.value;return n("option",{key:s.join("|"),domProps:{value:s}},[e._v(" "+e._s(a)+" ")])})),0)]),n("div",{staticClass:"icon is-small is-left"},[n("svg",{attrs:{viewBox:"0 0 500 500"}},[n("title",[e._v("rubrique")]),n("path",{staticClass:"cls-1",attrs:{d:"M477.05,445.08H243.64l116.71-184.7Zm-164.63-37.9h95.85l-47.92-75.85Z"}}),n("path",{staticClass:"cls-1",attrs:{d:"M210.37,447.48H37.4v-173h173ZM75.29,409.58h97.18V312.41H75.29Z"}}),n("path",{staticClass:"cls-1",attrs:{d:"M273,227.44A86.49,86.49,0,1,1,359.44,141,86.59,86.59,0,0,1,273,227.44Zm0-135.07A48.59,48.59,0,1,0,321.55,141,48.64,48.64,0,0,0,273,92.37Z"}})])])])]):e._e(),e.paramsOpen?n("button",{key:"close",staticClass:"button is-fullwidth",attrs:{name:"close","aria-label":"Delete the column"},on:{click:function(t){return e.$emit("close")}}},[n("span",{staticClass:"icon"},[n("svg",{attrs:{viewBox:"0 0 300 300"}},[n("title",[e._v("delete-blue")]),n("path",{staticClass:"cls-1",attrs:{d:"M200,269.231,223,84.615H77l23,184.616Zm-3.043-161.616L179.688,246.231H120.312L103.043,107.615Z"}}),n("polygon",{staticClass:"cls-1",attrs:{points:"122.996 15.346 122.996 38.423 77 38.423 77 61.423 223 61.423 223 38.423 176.846 38.423 176.846 15.346 122.996 15.346"}})])]),n("span",[e._v(e._s(e.$t("column.delete")))])]):e._e(),n("div",{key:"move-column",staticClass:"move-column"},[n("button",{staticClass:"btn btn-icon",attrs:{name:"move-left","aria-label":"Move column to left"},on:{click:function(t){return e.$emit("move","left")}}},[n("svg",{attrs:{viewBox:"0 0 300 300"}},[n("title",[e._v("navigateleft-blue")]),n("polygon",{staticClass:"cls-1",attrs:{points:"146.308 236.646 63.687 150.055 146.297 62.936 146.319 30.769 30.769 150.01 146.308 269.231 146.308 236.646"}})])]),n("button",{staticClass:"btn btn-icon margin-right-auto",attrs:{name:"move-right","aria-label":"Move column to right"},on:{click:function(t){return e.$emit("move","right")}}},[n("svg",{attrs:{viewBox:"0 0 300 300"}},[n("title",[e._v("navigateright-blue")]),n("polygon",{staticClass:"cls-1",attrs:{points:"153.78 63.354 236.402 149.945 153.791 237.064 153.77 269.231 269.319 149.99 153.78 30.769 153.78 63.354"}})])])])]):e._e()],1)}),b=[],w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",{ref:"search",staticClass:"search inpt inpt-large",attrs:{placeholder:e.$t("column.search"),"aria-label":e.$t("column.search"),type:e.type,autocomplete:"off",name:"query"},domProps:{value:e.initialQuery},on:{change:e.onQueryChange,focus:e.onQueryFocus}})},y=[],C=n("049b"),A={name:"SearchInput",components:{},props:{type:{type:String,required:!1,default:"search"},initialQuery:{type:String,required:!1,default:""}},data:function(){return{input:""}},computed:{},methods:{onQueryChange:function(e){var t=e.target.value;this.$emit("submit",t)},onQueryFocus:function(e){e.target.setSelectionRange(e.target.value.length,e.target.value.length)}}},k=A,O=(n("3c4b"),n("2877")),I=Object(O["a"])(k,w,y,!1,null,null,null),x=I.exports,S=n("2f62"),P={name:"SearchParams",components:{SearchInput:x},props:{columnId:{type:Number,required:!0},columnType:{type:String,required:!0}},data:function(){return{paramsOpen:!1}},computed:Object(p["a"])(Object(p["a"])({},Object(S["d"])(["getColumnByIndex","isAuthenticated"])),{},{column:function(){return this.getColumnByIndex(this.columnId)},params:function(){return this.column.params},products:function(){return[{label:this.$t("products.all"),value:[],disabled:!this.isAuthenticated},{label:this.$t("products.news"),value:["news"],disabled:!this.isAuthenticated},{label:this.$t("products.multimedia"),value:["multimedia"],disabled:!1},{label:this.$t("products.photo"),value:["photo"],disabled:!this.isAuthenticated},{label:this.$t("products.video"),value:["sidtv","parismode","afptvweb","afptv1st"],disabled:!this.isAuthenticated},{label:this.$t("products.infographie"),value:["infographie"],disabled:!this.isAuthenticated},{label:this.$t("products.videographie"),value:["videographie"],disabled:!this.isAuthenticated}]},product:{get:function(){return["multimedia"]}},languages:function(){return 1===this.product.length&&"photo"===this.product[0]?[{label:this.$t("languages.en"),value:["en"],disabled:!1}]:[{label:this.$t("languages.all"),value:[],disabled:!1},{label:this.$t("languages.en"),value:["en"],disabled:!1},{label:this.$t("languages.fr"),value:["fr"],disabled:!1},{label:this.$t("languages.de"),value:["de"],disabled:!1},{label:this.$t("languages.es"),value:["es"],disabled:!1},{label:this.$t("languages.pt"),value:["pt"],disabled:!1},{label:this.$t("languages.ar"),value:["ar"],disabled:!1},{label:this.$t("languages.zh-tw"),value:["zh-tw"],disabled:!1},{label:this.$t("languages.zh-cn"),value:["zh-cn"],disabled:!1}]},lang:{get:function(){return this.params.langs},set:function(e){this.updateParams({langs:e,topics:[]})}},urgencies:function(){return"photo"===this.product[0]?[{label:this.$t("urgencies.all-photos"),value:[],disabled:!this.isAuthenticated},{label:this.$tc("urgencies.topshots",2),value:[1],disabled:!this.isAuthenticated}]:"news"===this.product[0]?[{label:this.$tc("urgencies.depeches",2),value:[1,2,3,4],disabled:!this.isAuthenticated},{label:this.$tc("urgencies.flash",2),value:[1],disabled:!this.isAuthenticated},{label:this.$tc("urgencies.alertes",2),value:[1,2],disabled:!this.isAuthenticated},{label:this.$tc("urgencies.urgents",2),value:[1,2,3],disabled:!this.isAuthenticated}]:[{label:this.$t("urgencies.all"),value:[],disabled:!this.isAuthenticated}]},urgency:{get:function(){return this.params.urgencies},set:function(e){this.updateParams({urgencies:e})}},topics:function(){return"news"!==this.product[0]&&"multimedia"!==this.product[0]||"fr"!==this.lang[0]?"multimedia"===this.product[0]&&"en"===this.lang[0]?[{label:this.$t("topics.all","en"),value:[]},{label:this.$t("topics.a-la-une","en"),value:["Top Stories"]},{label:this.$t("topics.derniere-minute","en"),value:["Breaking News"]},{label:this.$t("topics.documentation","en"),value:["Doc"]},{label:this.$t("topics.monde","en"),value:["International News"]},{label:this.$t("topics.us-news","en"),value:["US News"]},{label:this.$t("topics.us-politics"),value:["US Politics"]},{label:this.$t("topics.us-sports"),value:["US Sports"]},{label:this.$t("topics.uk-news"),value:["UK News"]},{label:this.$t("topics.middle-east","en"),value:["Middle East"]},{label:this.$t("topics.south-asia-news","en"),value:["South Asia News"]},{label:this.$t("topics.asia-business","en"),value:["Asia Business"]},{label:this.$t("topics.business-tech","en"),value:["Business and Tech"]},{label:this.$t("topics.science-environment","en"),value:["Science-Environment"]},{label:this.$t("topics.offbeat","en"),value:["Offbeat"]},{label:this.$t("topics.health-lifestyle","en"),value:["Health and Lifestyle"]},{label:this.$t("topics.sport","en"),value:["Sports"]},{label:this.$t("topics.cricket","en"),value:["Cricket"]},{label:this.$t("topics.football","en"),value:["Football"]},{label:this.$t("topics.olympics","en"),value:["Olympics"]},{label:this.$t("topics.people","en"),value:["People and Entertainment"]},{label:this.$t("topics.lifestyle","en"),value:["Lifestyle"]},{label:this.$t("topics.photo-gallery","en"),value:["Photo Gallery"]},{label:this.$t("topics.videographics","en"),value:["Videographics"]},{label:this.$t("topics.video-gallery","en"),value:["Video Gallery Complete"]}]:[{label:this.$t("topics.all"),value:[]}]:[{label:this.$t("topics.all","fr"),value:[]},{label:this.$t("topics.a-la-une","fr"),value:["La une"],disabled:"news"===this.product[0]},{label:this.$t("topics.derniere-minute","fr"),value:["Dernière Minute"],disabled:"news"===this.product[0]},{label:this.$t("topics.documentation","fr"),value:["Documentation"],disabled:"news"===this.product[0]},{label:this.$t("topics.monde","fr"),value:["Monde"],disabled:"news"===this.product[0]},{label:this.$t("topics.afrique","fr"),value:["Afrique"],disabled:"news"===this.product[0]},{label:this.$t("topics.politique","fr"),value:["Politique"],disabled:"news"===this.product[0]},{label:this.$t("topics.elections","fr"),value:["Elections"],disabled:"news"===this.product[0]},{label:this.$t("topics.faits-divers","fr"),value:["Faits-divers"],disabled:"news"===this.product[0]},{label:this.$t("topics.economie","fr"),value:["Economie/Finances"]},{label:this.$t("topics.environnement","fr"),value:["Environnement/Météo","Environnement"],disabled:"news"===this.product[0]},{label:this.$t("topics.sport","fr"),value:["Sport"],disabled:"news"===this.product[0]},{label:this.$t("topics.football","fr"),value:["Football"],disabled:"news"===this.product[0]},{label:this.$t("topics.people","fr"),value:["People"],disabled:"news"===this.product[0]},{label:this.$t("topics.tech","fr"),value:["High Tech"],disabled:"news"===this.product[0]},{label:this.$t("topics.sciences","fr"),value:["Sciences"],disabled:"news"===this.product[0]},{label:"France",value:["France"],disabled:"news"===this.product[0]},{label:this.$t("topics.insolite","fr"),value:["Insolite"],disabled:"news"===this.product[0]},{label:this.$t("topics.medias","fr"),value:["Médias"],disabled:"news"===this.product[0]},{label:this.$t("topics.sante","fr"),value:["Médecine/Santé"],disabled:"news"===this.product[0]},{label:this.$t("topics.mode-de-vie","fr"),value:["Société/Modes de vie"],disabled:"news"===this.product[0]},{label:this.$t("topics.art-de-vivre","fr"),value:["Culture/Art de vivre"],disabled:"news"===this.product[0]},{label:this.$t("topics.galerie-photos","fr"),value:["Galerie Photos"],disabled:"news"===this.product[0]},{label:this.$t("topics.galerie-photos-insolites","fr"),value:["Galerie Photos Insolites"],disabled:"news"===this.product[0]},{label:this.$t("topics.videographies","fr"),value:["Vidéographies"],disabled:"news"===this.product[0]},{label:this.$t("topics.videos-monde","fr"),value:["Vidéos Monde"],disabled:"news"===this.product[0]}]},topic:{get:function(){return this.params.topics},set:function(e){this.updateParams({topics:e})}},query:function(){return this.params.query},dateTo:{get:function(){return this.params.dateTo},set:function(e){this.updateParams({dateTo:e})}}}),methods:Object(p["a"])(Object(p["a"])(Object(p["a"])({},Object(S["e"])(["updateColumnParams","openColumnSettings","closeColumnSettings"])),Object(S["c"])(["refreshColumn"])),{},{updateParams:function(e){var t=Object(p["a"])(Object(p["a"])({},this.params),e);this.updateColumnParams({indexCol:this.columnId,params:t}),this.$emit("reset")},onQueryChange:function(e){this.$ga.event("search","set query",e),this.updateParams({query:e})},toggleFilters:function(){this.paramsOpen=!this.paramsOpen}})},j=P,T=(n("9cd6"),Object(O["a"])(j,g,b,!1,null,"c660f670",null)),$=T.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-recyclist"},[n("div",{ref:"list",staticClass:"vue-recyclist-items",style:{height:e.height+"px"}},[e._l(e.visibleItems,(function(t,a){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.height>0,expression:"height > 0"}],key:a,staticClass:"vue-recyclist-item",style:{transform:"translate3d(0,"+t.top+"px,0)"}},[t.data?e._t("item",null,{data:t.data}):e._t("tombstone")],2)})),n("div",{staticClass:"vue-recyclist-pool"},[e._l(e.poolItems,(function(t,a){return n("div",{key:a,ref:t.data,refInFor:!0,staticClass:"vue-recyclist-item"},[e._t("item",null,{data:t.data})],2)})),0===e.tombHeight?n("div",{ref:"tomb",staticClass:"vue-recyclist-item"},[e._t("tombstone")],2):e._e()],2)],2),!e.isLoading&&e.noMore?n("div",{staticClass:"vue-recyclist-nomore"},[e._t("nomore",[n("div",[e._v("End of list")])])],2):e._e()])},E=[],_=(n("4de4"),n("fb6a"),n("3835")),M=(n("3ca3"),n("ddb0"),n("0342")),F=n.n(M),L=[new F.a("Poppins",{weight:400,style:"normal",stretch:"normal"}),new F.a("Poppins",{weight:600,style:"normal",stretch:"normal"})],B=function(){return Promise.all(L.map((function(e){return e.load()})))},N={name:"Recyclist",props:{list:{type:Array,required:!0},size:{type:Number,default:20},offset:{type:Number,default:200},isLoading:{type:Boolean,default:!1},noMore:{type:Boolean,default:!1}},data:function(){return{items:[],height:0,start:0,containerHeight:0,tombHeight:0}},computed:{visibleItems:function(){return this.items.slice(Math.max(0,this.start-this.size),Math.min(this.items.length,this.start+this.size))},poolItems:function(){return this.items.filter((function(e){return e.data&&!1===e.gotHeight}))}},watch:{start:function(e,t){0===e&&t>e&&this.$emit("loadTop")},list:function(){this.loadList()},noMore:function(e){!0===e&&(this.items=this.items.filter((function(e){return e.data})),this.updateItemTop())}},mounted:function(){this.$el.addEventListener("scroll",this.onScroll,{capture:!0,passive:!0}),this.tombHeight=this.$refs.tomb&&this.$refs.tomb.offsetHeight,this.containerHeight=this.$el&&this.$el.offsetHeight,this.list.length>0?(this.loadList(),this.list.length<this.size&&this.loadMoreItems()):this.loadMoreItems()},destroyed:function(){this.$el.removeEventListener("scroll",this.onScroll)},methods:{reset:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.items=[],e.height=e.start=e.$el.scrollTop=0,t.next=4,e.$nextTick();case 4:e.loadMoreItems();case 5:case"end":return t.stop()}}),t)})))()},loadList:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.items=e.list.map(e.renderItem),t.next=3,B();case 3:return t.next=5,e.$nextTick();case 5:for(n=0;n<e.items.length;n++)e.updateItemHeight(n);e.updateItemTop();case 7:case"end":return t.stop()}}),t)})))()},loadMoreItems:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.noMore){t.next=2;break}return t.abrupt("return",!1);case 2:for(n=e.items.length+e.size,a=e.items.length;a<n;a++)e.setItem(a,null);e.updateItemTop(),e.$emit("load-bottom");case 6:case"end":return t.stop()}}),t)})))()},setItem:function(e,t){this.$set(this.items,e,this.renderItem(t))},renderItem:function(e){return{data:e,top:0,height:this.tombHeight,gotHeight:!1}},updateItemTop:function(){this.height=0;for(var e=0;e<this.items.length;e++){var t=this.items[e-1];this.$set(this.items[e],"top",t?t.top+t.height:0),this.height+=this.items[e].height}this.updateIndex()},updateIndex:function(){for(var e=this.$el.scrollTop,t=0;t<this.items.length;t++)if(this.items[t].top>e){this.start=Math.max(0,t-1);break}},updateItemHeight:function(e){var t=this.items[e];if(t.data){var n=Object(_["a"])(this.$refs[t.data],1),a=n[0];a&&(this.$set(this.items[e],"height",a.offsetHeight),this.$set(this.items[e],"gotHeight",a.offsetHeight>0))}},onScroll:function(){this.$el.scrollTop+this.$el.offsetHeight>this.height-this.offset&&this.loadMoreItems(),this.updateIndex()}}},R=N,q=(n("a90f"),Object(O["a"])(R,D,E,!1,null,"47f9749e",null)),H=q.exports,V=n("967d"),U=n("ae8d"),z={name:"Column",components:{Card:U["a"],Recyclist:H,ContentPlaceholders:V["ContentPlaceholders"],ContentPlaceholdersHeading:V["ContentPlaceholdersHeading"],ContentPlaceholdersImg:V["ContentPlaceholdersImg"],ContentPlaceholdersText:V["ContentPlaceholdersText"],SearchParams:$},props:{columnId:{type:Number,required:!0},columnType:{type:String,required:!0}},data:function(){return{noMore:!1}},computed:Object(p["a"])(Object(p["a"])({},Object(S["d"])(["getColumnByIndex","getDocumentsIdsByColumnId","isAuthenticated"])),{},{column:function(){return this.getColumnByIndex(this.columnId)},documents:function(){return this.getDocumentsIdsByColumnId(this.columnId)},params:function(){return this.column.params}}),methods:Object(p["a"])(Object(p["a"])(Object(p["a"])({},Object(S["e"])(["resetColumn","moveColumn","closeColumn"])),Object(S["c"])(["refreshColumn"])),{},{reset:function(){this.noMore=!1,this.resetColumn({indexCol:this.columnId}),this.$refs.recyclist.reset()},loadBefore:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.refreshColumn({indexCol:e.columnId,mode:"before"});case 3:n=t.sent,!1===n&&(e.noMore=!0),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$toasted.global.apiError(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},loadAfter:function(){try{return this.refreshColumn({indexCol:this.columnId,mode:"after"})}catch(e){this.$toasted.global.apiError(e)}},move:function(e){this.moveColumn({indexCol:this.columnId,dir:e})},close:function(){this.closeColumn({indexCol:this.columnId})}})},Z=z,G=(n("a492"),n("6d95"),Object(O["a"])(Z,f,v,!1,null,"2b911d6a",null)),X=G.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"navbar is-primary is-fixed-top",attrs:{role:"navigation","aria-label":"main navigation"}},[e._m(0),n("div",{staticClass:"navbar-menu"},[n("div",{staticClass:"navbar-end"},[n("router-link",{key:"about",staticClass:"navbar-item",attrs:{to:{name:"about"},name:"about","aria-label":"about"}},[n("svg",{attrs:{id:"PICTOGRAMMES",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 300"}},[n("defs"),n("title",[e._v("help-blue")]),n("path",{staticClass:"cls-1",attrs:{d:"M150,30.769A119.231,119.231,0,1,0,269.231,150,119.232,119.232,0,0,0,150,30.769Zm0,215.462A96.231,96.231,0,1,1,246.231,150,96.34,96.34,0,0,1,150,246.231Z"}}),n("rect",{staticClass:"cls-1",attrs:{x:"138.488",y:"192.393",width:"23",height:"22.992"}}),n("path",{staticClass:"cls-1",attrs:{d:"M150,76.962c-25.329,0-42.347,15.41-42.347,38.346h23c0-12.684,10.521-15.346,19.347-15.346,9.343,0,19.347,5.9,19.347,14.692,0,10.511-4.035,13.623-11.359,19.275-8.238,6.354-19.519,15.058-19.519,35.3h23c0-8.938,3.532-11.663,10.568-17.091,8.571-6.613,20.31-15.669,20.31-37.485C192.347,93.871,173.35,76.962,150,76.962Z"}})]),e._v(" "+e._s(e.$t("about.name"))+" ")]),e.isAuthenticated?n("a",{staticClass:"navbar-item",attrs:{"aria-label":"Log out"},on:{click:function(t){return t.preventDefault(),e.logoutHandler(t)}}},[n("svg",{attrs:{id:"Calque_1","data-name":"Calque 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500"}},[n("defs"),n("title",[e._v("Log-out")]),n("polygon",{staticClass:"cls-1",attrs:{points:"313.72 345.03 388.74 265.92 167.23 265.92 167.23 233.21 388.5 233.21 313.72 154.82 313.72 108.06 451 249.71 313.72 391.37 313.72 345.03"}}),n("polygon",{staticClass:"cls-1",attrs:{points:"282.81 450.95 57.24 450.95 57.24 48.48 282.81 48.48 282.81 86.38 95.14 86.38 95.14 413.05 282.81 413.05 282.81 450.95"}})]),e._v(" "+e._s(e.$t("auth.logout"))+" ")]):e._e(),e.isAuthenticated?e._e():n("router-link",{key:"authenticate",staticClass:"navbar-item",attrs:{to:{name:"login"},name:"authenticate","aria-label":"Authenticate"}},[n("svg",{attrs:{id:"Calque_1","data-name":"Calque 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500"}},[n("defs"),n("polygon",{staticClass:"cls-1",attrs:{points:"180.1 350.04 259.02 266.82 53.37 266.82 53.37 232.4 258.77 232.4 180.1 149.95 180.1 100.75 324.51 249.76 180.1 398.78 180.1 350.04"}}),n("polygon",{staticClass:"cls-1",attrs:{points:"440.93 451 215.35 451 215.35 413.1 403.03 413.1 403.03 86.43 215.35 86.43 215.35 48.53 440.93 48.53 440.93 451"}})]),e._v(" "+e._s(e.$t("auth.login"))+" ")]),n("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[n("a",{staticClass:"navbar-link"},[e._v(" "+e._s(e._f("capitalize")(e.currentUILanguage))+" ")]),n("div",{staticClass:"navbar-dropdown is-right"},[n("a",{staticClass:"navbar-item",on:{click:function(t){return e.changeLanguage("fr")}}},[e._v(" FR ")]),n("a",{staticClass:"navbar-item",on:{click:function(t){return e.changeLanguage("en")}}},[e._v(" EN ")])])])],1)])])},J=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navbar-brand"},[a("a",{staticClass:"navbar-item",attrs:{href:"#"}},[a("img",{attrs:{src:n("5365")}})]),a("a",{staticClass:"navbar-burger burger",attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"}},[a("span",{attrs:{"aria-hidden":"true"}}),a("span",{attrs:{"aria-hidden":"true"}}),a("span",{attrs:{"aria-hidden":"true"}})])])}],K={name:"Navbar",methods:Object(p["a"])(Object(p["a"])({},Object(S["c"])(["changeLocale","logout"])),{},{changeLanguage:function(e){this.changeLocale(e)},logoutHandler:function(){this.$toasted.show(this.$t("auth.not-authenticated.toast").toString(),{position:"bottom-center",duration:1500,type:"info"}),this.logout()}}),computed:Object(p["a"])({currentUILanguage:function(){return this.$store.state.locale}},Object(S["d"])(["isAuthenticated"])),filters:{capitalize:function(e){return e?(e=e.toString(),e.toUpperCase()):""}}},Y=K,Q=(n("9b94"),Object(O["a"])(Y,W,J,!1,null,"ec70fa00",null)),ee=Q.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"shortcuts"},[n("div",{staticClass:"shortcuts-start"},[n("p",[e._v("Changer la langue de tous les contenus :")]),n("select",{on:{change:function(t){return e.changeAllContentLanguage(t)}}},[n("option",{attrs:{disabled:"",selected:""}},[e._v("Choix de la langue")]),e._l(e.languages,(function(t){var a=t.label,s=t.value,i=t.disabled;return n("option",{key:s.join("|"),attrs:{disabled:i},domProps:{value:s}},[e._v(" "+e._s(a)+" ")])}))],2)]),n("div",{staticClass:"shortcuts-end"},[n("a",{staticClass:"reset",on:{click:function(t){return e.resetAllColumns()}}},[e._v("Réinitialiser tous les contenus")])])])},ne=[],ae=n("b85c"),se=n("5593"),ie=n("ec26"),oe={name:"Shortcuts",computed:{languages:function(){return[{label:this.$t("languages.en"),value:["en"],disabled:!1},{label:this.$t("languages.fr"),value:["fr"],disabled:!1},{label:this.$t("languages.de"),value:["de"],disabled:!1},{label:this.$t("languages.es"),value:["es"],disabled:!1},{label:this.$t("languages.pt"),value:["pt"],disabled:!1},{label:this.$t("languages.ar"),value:["ar"],disabled:!1},{label:this.$t("languages.zh-tw"),value:["zh-tw"],disabled:!1},{label:this.$t("languages.zh-cn"),value:["zh-cn"],disabled:!1}]}},methods:Object(p["a"])(Object(p["a"])({},Object(S["e"])(["resetAllColumns","addColumn"])),{},{changeAllContentLanguage:function(e){this.resetAllColumns();var t,n=e.target.value,a=se[n],s=Object(ae["a"])(a);try{for(s.s();!(t=s.n()).done;){var i=t.value,o={id:Object(ie["a"])(),params:Object.assign({},C["a"].defaultSearchParams,{products:["multimedia"],topics:i.value,langs:[n],size:10,sources:["afp","AFPTV","AFP Vidéographie","AFP Videographics","AFP Vidéographic","AFPTV / AFP Videografik"]}),documentsIds:[]};this.addColumn(o)}}catch(r){s.e(r)}finally{s.f()}}})},re=oe,ce=(n("692a"),Object(O["a"])(re,te,ne,!1,null,"4067b2bd",null)),le=ce.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.close,expression:"close"}],staticClass:"addColumn"},[n("div",{staticClass:"dropdown",attrs:{id:"addColumn"},on:{click:e.triggerDropdown}},[n("div",{staticClass:"dropdown-trigger"},[n("button",{staticClass:"button",attrs:{"aria-haspopup":"true","aria-controls":"dropdown-menu2"}},[n("span",{staticClass:"icon"},[n("svg",{attrs:{id:"PICTOGRAMMES",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 300"}},[n("title",[e._v("plus-blue")]),n("polygon",{staticClass:"cls-1",attrs:{points:"138.5 246.16 161.5 246.16 161.5 161.5 246.159 161.5 246.159 138.5 161.5 138.5 161.5 53.84 138.5 53.84 138.5 138.5 53.841 138.5 53.841 161.5 138.5 161.5 138.5 246.16"}})])]),n("span",[e._v("Ajouter une colonne")])])]),n("div",{staticClass:"dropdown-menu",attrs:{id:"dropdown-menu2",role:"menu"}},[n("div",{staticClass:"dropdown-content"},[n("a",{staticClass:"dropdown-item",on:{click:function(t){return e.search("search")}}},[n("p",[n("svg",{attrs:{id:"PICTOGRAMMES",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 300"}},[n("title",[e._v("search-blue")]),n("path",{staticClass:"cls-1",attrs:{d:"M124.134,217.654a93.091,93.091,0,0,0,54-17.162L238.6,269.385h30.565l-74.2-84.185a93.518,93.518,0,1,0-70.829,32.454Zm0-164.039a70.52,70.52,0,1,1-70.519,70.519A70.6,70.6,0,0,1,124.134,53.615Z"}})]),e._v(" Rechercher ")]),n("p",[e._v("Réaliser une recherche sur le catalogue de l’AFP")])]),n("hr",{staticClass:"dropdown-divider"}),n("a",{staticClass:"dropdown-item",on:{click:function(t){return e.search("topic")}}},[n("p",[n("svg",{attrs:{id:"Calque_1","data-name":"Calque 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500"}},[n("title",[e._v("rubrique")]),n("path",{staticClass:"cls-1",attrs:{d:"M477.05,445.08H243.64l116.71-184.7Zm-164.63-37.9h95.85l-47.92-75.85Z"}}),n("path",{staticClass:"cls-1",attrs:{d:"M210.37,447.48H37.4v-173h173ZM75.29,409.58h97.18V312.41H75.29Z"}}),n("path",{staticClass:"cls-1",attrs:{d:"M273,227.44A86.49,86.49,0,1,1,359.44,141,86.59,86.59,0,0,1,273,227.44Zm0-135.07A48.59,48.59,0,1,0,321.55,141,48.64,48.64,0,0,0,273,92.37Z"}})]),e._v(" Choisir une rubrique ")]),n("p",[e._v("Choisir une rubrique parmi la liste proposée")])])])])])])},de=[],me=n("c7db"),he={name:"AddColumn",directives:{onClickaway:me["directive"]},methods:Object(p["a"])(Object(p["a"])({},Object(S["e"])(["addColumn"])),{},{search:function(e){"deck"!==this.$route.name&&this.$router.push({name:"deck"});var t={type:e};this.addColumn(t)},triggerDropdown:function(e){var t=e.target.closest(".dropdown");t.classList.toggle("is-active")},close:function(){var e=document.getElementById("addColumn");e.classList.remove("is-active")}})},pe=he,fe=(n("c049"),Object(O["a"])(pe,ue,de,!1,null,null,null)),ve=fe.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{attrs:{id:"sidebar",name:"appear",tag:"nav",appear:""}},[n("button",{key:"new-column",staticClass:"btn btn-circle btn-icon",attrs:{name:"new-column","aria-label":"Add new column"},on:{click:e.search}},[n("i",{staticClass:"UI-icon UI-plus"})])])},be=[],we={name:"SideBar",methods:Object(p["a"])(Object(p["a"])({},Object(S["e"])(["addColumn"])),{},{search:function(){"deck"!==this.$route.name&&this.$router.push({name:"deck"}),this.addColumn()}})},ye=we,Ce=(n("ada6"),Object(O["a"])(ye,ge,be,!1,null,"a70769d0",null)),Ae=Ce.exports,ke={name:"AutoRefreshVisibility",mounted:function(){this.visibilityChanged(),document.addEventListener("visibilitychange",this.visibilityChanged,!1)},beforeDestroy:function(){document.removeEventListener("visibilitychange",this.visibilityChanged,!1)},methods:Object(p["a"])(Object(p["a"])({},Object(S["c"])(["refreshAllColumns"])),{},{visibilityChanged:function(){!0!==document.hidden&&(this.$root.$now=new Date,!1!==navigator.onLine&&this.refreshAllColumns())}})},Oe={name:"AutoRefreshTimer",data:function(){return{autoRefreshTimer:null,autoRefreshDelay:1e4}},mounted:function(){this.startAutoRefresh()},beforeDestroy:function(){this.stopAutoRefresh()},methods:{startAutoRefresh:function(){var e=this;this.autoRefreshTimer=window.setInterval(Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!0!==document.hidden){t.next=2;break}return t.abrupt("return");case 2:if(e.$root.$now=new Date,!1!==navigator.onLine){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.refreshAllColumns();case 7:case"end":return t.stop()}}),t)}))),this.autoRefreshDelay)},stopAutoRefresh:function(){this.autoRefreshTimer&&clearInterval(this.autoRefreshTimer)}}},Ie=n("add2"),xe=n.n(Ie);s["default"].use(xe.a,{id:"2108306"});var Se=s["default"].extend({name:"Deck",metaInfo:{titleTemplate:function(e){return e?"".concat(e," | AFP Deck"):"AFP Deck"}},components:{Column:X,AddColumn:ve,SideBar:Ae,Navbar:ee,Shortcuts:le},mixins:[ke,Oe],computed:Object(p["a"])(Object(p["a"])({},Object(S["f"])(["authType","columns"])),Object(S["d"])(["isAuthenticated"])),watch:{authType:function(e,t){"credentials"!==e&&"credentials"===t&&this.$router.push({name:"login",query:{redirect:this.$route.path}})}}}),Pe=Se,je=(n("1ed1"),Object(O["a"])(Pe,m,h,!1,null,"53e7c40c",null)),Te=je.exports;function $e(e){return e.includes(" ")?'"'.concat(e,'"'):e}s["default"].use(d["a"]);var De=[{name:"login",path:"/",component:function(){return n.e("login").then(n.bind(null,"a55b"))},meta:{analytics:{pageviewTemplate:function(e){return{title:"AFP Deck - Login",page:e.path,location:window.location.href,dimension2:navigator.onLine.toString(),dimension3:c["a"].getters.isAuthenticated.toString()}}}}},{name:"deck",path:"/deck",component:Te,meta:{analytics:{pageviewTemplate:function(e){return{title:"AFP Deck",page:e.path,location:window.location.href,dimension2:navigator.onLine.toString(),dimension3:c["a"].getters.isAuthenticated.toString()}}}},children:[{path:"doc",redirect:"/"},{name:"document",path:"doc/:docId",component:function(){return n.e("viewer").then(n.bind(null,"f9ca"))},props:!0,meta:{analytics:{pageviewTemplate:function(e){var t=c["a"].getters.getDocumentById(e.params.docId);if(t)return{title:t.headline,page:e.path,location:window.location.href,dimension1:t.product,dimension2:navigator.onLine.toString(),dimension3:c["a"].getters.isAuthenticated.toString()}}}}},{name:"slug",path:"slug/:slugs",beforeEnter:function(e,t,n){c["a"].commit("addColumn",{params:{query:e.params.slugs.split(",").map((function(e){return"slug:".concat($e(e))})).join(" AND ")}}),n({name:"deck"})}},{name:"place",path:"place/:country/:city?",beforeEnter:function(e,t,n){c["a"].commit("addColumn",{params:{query:e.params.city?"country:".concat($e(e.params.country)," AND city:").concat($e(e.params.city)):"country:".concat($e(e.params.country))}}),n({name:"deck"})}},{name:"genre",path:"genre/:genre",beforeEnter:function(e,t,n){c["a"].commit("addColumn",{params:{query:"genre:".concat($e(e.params.genre))}}),n({name:"deck"})}},{name:"event",path:"event/:event",beforeEnter:function(e,t,n){c["a"].commit("addColumn",{params:{query:'event:"afpevent:'.concat(e.params.event,'"')}}),n({name:"deck"})}},{name:"creator",path:"creator/:creator",beforeEnter:function(e,t,n){c["a"].commit("addColumn",{params:{query:"creator:".concat($e(e.params.creator))}}),n({name:"deck"})}},{name:"about",path:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))},meta:{analytics:{pageviewTemplate:function(e){return{title:"AFP Deck - About",page:e.path,location:window.location.href,dimension2:navigator.onLine.toString(),dimension3:c["a"].getters.isAuthenticated.toString()}}}}}]}],Ee=new d["a"]({routes:De});s["default"].use(u.a,{id:"UA-127064867-1",disabled:!0,router:Ee,autoTracking:{pageviewOnLoad:!0,exception:!0},debug:{enabled:!1,sendHitTask:!0},anonymizeIp:!0,forceSSL:!0});var _e=n("fe0b"),Me=n("6591"),Fe=n("c8b5"),Le=n.n(Fe);delete Le.a.defaults.cssProps.userSelect,Le.a.defaults.touchAction="pan-y",s["default"].use(Me["VueHammer"]);n("b814"),n("70cb");var Be=n("f2d6"),Ne=n.n(Be);s["default"].use(Ne.a);var Re,qe=new Ne.a({useVuex:!0}),He=n("9483");(Object(He["a"])("".concat("","sw.min.js"),{ready:function(){console.log("Service worker is active.")},registered:function(e){console.log("Service worker has been registered.")},cached:function(e){console.log("version has been cached for offline use.")},updatefound:function(e){console.log("New version is downloading.")},updated:function(e){console.log("New version is available; Ask for refresh."),s["default"].toasted.show("New version available !",{action:[{text:"Update",onClick:function(){e.waiting.postMessage({command:"skipWaiting"})}}],position:"bottom-right"})},offline:function(){s["default"].toasted.show("No internet connection found. App is running in offline mode.",{position:"bottom-center",duration:1500})},error:function(e){s["default"].toasted.global.error(e)}}),"serviceWorker"in navigator)&&navigator.serviceWorker.addEventListener("controllerchange",Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Re){e.next=2;break}return e.abrupt("return");case 2:c["a"].commit("clearDocuments"),Object(l["event"])("service-worker","controllerchange"),window.location.reload(),Re=!0;case 6:case"end":return e.stop()}}),e)}))));function Ve(){return"serviceWorker"in navigator?navigator.serviceWorker.controller?"controlled":"supported":"unsupported"}Object(l["event"])("service-worker","support",Ve());var Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"night-mode":!e.useLightTheme},attrs:{id:"app"}},[n("router-view")],1)},ze=[],Ze=navigator.connection||navigator.mozConnection||navigator.webkitConnection,Ge={name:"CheckConnection",computed:Object(p["a"])({},Object(S["f"])(["isOnline"])),watch:{isOnline:function(e,t){!1===e?(this.$toasted.clear(),this.$toasted.show(this.$t("connectivity.messageOff"),{duration:null,type:"info",position:"bottom-center"})):!1===t&&(this.$toasted.clear(),this.$toasted.show(this.$t("connectivity.messageOn"),{duration:2e3,type:"info",position:"bottom-center"}))}},mounted:function(){if(!Ze)return!1;this.checkConnection(),Ze.addEventListener("change",this.checkConnection)},methods:Object(p["a"])(Object(p["a"])({},Object(S["e"])(["setConnectivityStatus"])),{},{checkConnection:function(){var e=!0===navigator.onLine;this.setConnectivityStatus(e)}})},Xe=n("e2b7"),We={name:"NightMode",data:function(){return{useLightTheme:!0}},mounted:function(){this.checkDayNight(),document.addEventListener("visibilitychange",this.checkDayNight,!1)},beforeDestroy:function(){document.removeEventListener("visibilitychange",this.checkDayNight,!1)},methods:{checkDayNight:function(){try{var e=Object(Xe["a"])();if(e.error)throw new Error(e.error);this.useLightTheme=e.light}catch(n){console.error(n);var t=(new Date).getHours();this.useLightTheme=t>6&&t<20}}}},Je={name:"App",mixins:[Ge,We]},Ke=Je,Ye=(n("13a5"),n("4820"),Object(O["a"])(Ke,Ue,ze,!1,null,"7e3b9ef6",null)),Qe=Ye.exports;function et(){new s["default"]({router:Ee,store:c["a"],i18n:_e["a"],wait:qe,render:function(e){return e(Qe)}}).$mount("#app"),"deck"!==Ee.currentRoute.name||c["a"].getters.isAuthenticated||Ee.replace({name:"login"}),c["a"].getters.isAuthenticated&&s["default"].$ga.enable()}s["default"].config.productionTip=!1,s["default"].config.errorHandler=function(e){s["default"].toasted.global.error(e)},s["default"].config.warnHandler=function(e){s["default"].toasted.global.warn(e)},Ee.beforeEach(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("document"!==t.name){e.next=12;break}if(c["a"].getters.getDocumentById(t.params.docId)){e.next=12;break}return e.prev=2,e.next=5,c["a"].dispatch("getDocument",t.params.docId);case 5:e.next=12;break;case 7:if(e.prev=7,e.t0=e["catch"](2),"credentials"===c["a"].state.authType){e.next=11;break}return e.abrupt("return",a({name:"login",query:{redirect:"doc/".concat(t.params.docId)}}));case 11:return e.abrupt("return",a({name:"deck"}));case 12:a();case 13:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n,a){return e.apply(this,arguments)}}()),c["a"].dispatch("changeLocale",_e["a"].locale),Object(c["b"])().then(et)},edd4:function(e){e.exports=JSON.parse('{"back-to-home":"Back to home","submit":"Submit","loading":"Loading...","install-app":"Add to home screen","deck":{"add-column":"Add a new column"},"column":{"search":"Search...","product":"Select content","lang":"Document language","urgency":"Category of news story","until":"Until","no-result":"No result","delete":"Delete the column","refresh":"Refresh ?","documents-gap":"Since your last visit, you missed 1 document. | Since your last visit, you missed {count} documents."},"about":{"name":"About","title":"About AFP Deck","description":["AFP News Deck is a reader for AFP feeds. It allows you to find and read stories, multimedia articles and photos directly in your browser.","Made with love by the AFP Dataviz team, based on an original idea from the Medialab. Data is provided by the AFP Content API."],"version":"Version"},"auth":{"success":{"title":"You\'re logged in correctly.","description":"Enjoy AFP Deck !"},"login":"Login","logout":"Logout","clientId":"Client ID","clientSecret":"Client Secret","username":"Username","password":"Password","not-authenticated":{"title":"Log in to see the latest news","toast":"Good bye :)"},"cookies":"By continuing your navigation on this site, you consent to the use of anonymous cookies for statistical purposes.","warning-email":"Please use your username instead of your email address"},"products":{"all":"in all products","news":"in the news","multimedia":"in multimedia articles","photo":"in photos","infographie":"in graphics","videographie":"in videographics","video":"in videos"},"languages":{"all":"in all languages","en":"in english","fr":"in french","de":"in german","es":"in spanish","pt":"in portuguese","ar":"in arabic","zh-tw":"in traditionnal Chinese","zh-cn":"in simplified Chinese"},"urgencies":{"all":"All news stories","all-photos":"All photos","flash":"Only flashes","alertes":"include alerts","urgents":"include urgents","depeches":"All news stories","topshots":"Only topshots"},"topics":{"all":"All topics","a-la-une":"Top Stories","derniere-minute":"Breaking news","monde":"International news","us-news":"US News","us-politics":"US Politics","middle-east":"Middle East","asia-business":"Asia Business","business-tech":"Business and Tech","science-environment":"Science and Environment","health-lifestyle":"Health and Lifestyle","sport":"Sports","football":"Football","people":"People and Entertainment","documentation":"File","us-sports":"US Sports","uk-news":"UK News","south-asia-news":"South Asia News","offbeat":"Offbeat","cricket":"Cricket","olympics":"Olympics","lifestyle":"Lifestyle","photo-gallery":"Photo Gallery","videographics":"Videographics","video-gallery":"Video Gallery"},"connectivity":{"messageOff":"Your device is offline","messageOn":"You device is online again"},"dateTimeFormats":{"short":{"year":"numeric","month":"short","day":"numeric"},"long":{"year":"numeric","month":"short","day":"numeric","weekday":"short","hour":"numeric","minute":"numeric"}},"document":{"share":"Share","copied":"Copied in clipboard","read-more":"Full article:"}}')},f693:function(e){e.exports=JSON.parse('{"back-to-home":"Retour à l\'accueil","submit":"Valider","loading":"Chargement...","install-app":"Installer sur l\'écran d\'accueil","deck":{"add-column":"Ajouter une colonne"},"column":{"search":"Rechercher...","product":"Sélectionnez un produit","lang":"Sélectionnez une langue","urgency":"Sélectionnez une urgence","until":"Jusqu\'au","no-result":"Pas de résultats","delete":"Supprimer la colonne","refresh":"Rafraîchir ?","documents-gap":"Depuis votre dernière visite, vous avez manqué 1 document. | Depuis votre dernière visite, vous avez manqué {count} documents."},"about":{"name":"A propos","title":"À propos d\'AFP Deck","description":["AFP News Deck permet de lire les dépêches, photos et vidéos diffusées par l\'AFP, directement dans votre navigateur.","Conçu par l\'équipe Dataviz de l\'AFP, sur une idée originale du Médialab. Les données proviennent de l\'API AFP."],"version":"Version"},"auth":{"success":{"title":"Vous êtes authentifié","description":"Profitez d\'AFP Deck !"},"login":"Se connecter","logout":"Se déconnecter","clientId":"ID Client","clientSecret":"Secret Client","username":"Nom d\'utilisateur","password":"Mot de passe","not-authenticated":{"title":"Connectez-vous pour bénéficier des dernières nouvelles","toast":"À bientôt :)"},"cookies":"En poursuivant la navigation sur ce site, vous consentez à l\'utilisation de cookies anonymes à des fins statistiques.","warning-email":"SVP, utilisez votre nom d\'utilisateur et non votre adresse email"},"products":{"all":"dans tous les produits","news":"dans les dépêches","multimedia":"dans le fil multimédia","photo":"dans les photos","infographie":"dans les infographies","videographie":"dans les vidéographies","video":"dans les vidéos"},"languages":{"all":"dans toutes les langues","en":"en anglais","fr":"en français","de":"en allemand","es":"en espagnol","pt":"en portugais","ar":"en arabe","zh-tw":"en chinois traditionnel","zh-cn":"en chinois simplifié"},"urgencies":{"all":"Tout le contenu","all-photos":"Toutes les photos","flash":"Uniquement les flashs","alertes":"inclure les alertes","urgents":"inclure les urgents","depeches":"Tout le contenu","topshots":"Uniquement les topshots"},"topics":{"all":"Tous les sujets","a-la-une":"A la une","derniere-minute":"Dernière minute","monde":"Monde","afrique":"Afrique","politique":"Politique","faits-divers":"Faits divers","economie":"Economie","environnement":"Environnement","sport":"Sport","football":"Football","people":"People","insolite":"Insolite","medias":"Médias","sante":"Santé","mode-de-vie":"Modes de vie","art-de-vivre":"Art de vivre","documentation":"Documentation","galerie-photos":"Galerie photo","galerie-photos-insolites":"Photos insolites","videographies":"Vidéographies","videos-monde":"Vidéos monde","elections":"Elections","sciences":"Sciences","tech":"Technologies","france":"France"},"connectivity":{"messageOff":"Votre appareil est hors connexion","messageOn":"Votre appareil est de nouveau connecté"},"dateTimeFormats":{"short":{"year":"numeric","month":"short","day":"numeric"},"long":{"year":"numeric","month":"short","day":"numeric","weekday":"short","hour":"numeric","minute":"numeric"}},"document":{"share":"Partager","copied":"Copié dans le presse-papier","read-more":"Article complet :"}}')},fca5:function(e,t,n){var a={"./en":"edd4","./en.json":"edd4","./fr":"f693","./fr.json":"f693"};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=i,e.exports=s,s.id="fca5"},fe0b:function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));n("caad"),n("d3b7");var a=n("15fd"),s=(n("96cf"),n("1da1")),i=n("ade3"),o=n("2b0e"),r=n("a925");o["default"].use(r["a"]);var c=["en","fr"],l=c[0],u=Object(i["a"])({},l,n("fca5")("./".concat(l))),d=Object(i["a"])({},l,u[l].dateTimeFormats);function m(){var e=navigator.language&&navigator.language.substring(0,2);return!(!e||!c.includes(e))&&e}var h=new r["a"]({locale:m()||l,fallbackLocale:l,messages:u,dateTimeFormats:d});function p(e){h.locale=e;var t=document.querySelector("html");return t&&t.setAttribute("lang",e),e}function f(e){return v.apply(this,arguments)}function v(){return v=Object(s["a"])(regeneratorRuntime.mark((function e(t){var s,i,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(h.locale===t&&h.messages[t]){e.next=8;break}return e.next=3,n("39c3")("./".concat(t,".json"));case 3:return s=e.sent,i=s.default,o=i.dateTimeFormats,r=Object(a["a"])(i,["dateTimeFormats"]),h.setLocaleMessage(t,r),h.setDateTimeFormat(t,o),e.abrupt("return",p(t));case 8:return e.abrupt("return",p(t));case 9:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}t["a"]=h}});
//# sourceMappingURL=app-legacy.edb3cad3.js.map