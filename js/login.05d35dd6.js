(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"3ee3":function(t,e,a){},"714b":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.close,expression:"close"}],staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[t._t("header")],2),a("div",{staticClass:"modal-body"},[t._t("body")],2),a("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])])},n=[],r=a("c7db"),s={name:"Modal",mixins:[r["mixin"]],methods:{close(){this.$emit("close")}}},o=s,c=(a("88cf"),a("2877")),l=Object(c["a"])(o,i,n,!1,null,"1e91815f",null);l.options.__file="Modal.vue";e["a"]=l.exports},"88cf":function(t,e,a){"use strict";var i=a("3ee3"),n=a.n(i);n.a},a402:function(t,e,a){"use strict";var i=a("f3bf"),n=a.n(i);n.a},a55b:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{on:{close:function(e){t.$router.push({name:"deck"})}}},[a("template",{slot:"header"},[t.isAuthenticated?a("h3",[t._v(t._s(t.$t("auth.success.title")))]):a("h3",[t._v(t._s(t.$t("auth.not-authenticated.title")))]),a("router-link",{staticClass:"btn btn-icon close",attrs:{to:{name:"deck"},"aria-label":"Close"}},[a("i",{staticClass:"UI-icon UI-close-alt icon-small"})])],1),a("template",{slot:"body"},[a("form",{class:{danger:t.authError},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.login(e)}}},["other"===t.client?a("div",[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.clientId,expression:"clientId",modifiers:{trim:!0}}],staticClass:"inpt inpt-large inpt-bg",attrs:{id:"client-id",placeholder:t.$t("auth.clientId"),"aria-label":t.$t("auth.clientId"),type:"text",name:"client-id",autocomplete:"client-id",required:""},domProps:{value:t.clientId},on:{input:function(e){e.target.composing||(t.clientId=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.clientSecret,expression:"clientSecret",modifiers:{trim:!0}}],staticClass:"inpt inpt-large inpt-bg",attrs:{id:"client-secret",placeholder:t.$t("auth.clientSecret"),"aria-label":t.$t("auth.clientSecret"),type:"text",name:"client-secret",autocomplete:"client-secret",required:""},domProps:{value:t.clientSecret},on:{input:function(e){e.target.composing||(t.clientSecret=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]):t._e(),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.username,expression:"username",modifiers:{trim:!0}}],staticClass:"inpt inpt-large inpt-bg",attrs:{id:"username",placeholder:t.$t("auth.username"),"aria-label":t.$t("auth.username"),type:"text",name:"username",autocomplete:"username",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],staticClass:"inpt inpt-large inpt-bg",attrs:{id:"password",placeholder:t.$t("auth.password"),"aria-label":t.$t("auth.password"),type:"password",name:"password",autocomplete:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),a("button",{staticClass:"btn btn-large",attrs:{"aria-label":"Submit",type:"submit"}},[t._v("\n        "+t._s(t.$t("submit"))+"\n      ")]),a("i18n",{attrs:{path:"other"!==t.client?"auth.not-authenticated.external":"auth.not-authenticated.afp",tag:"p",for:"click"}},[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),"other"!==t.client?t.client="other":t.client="afpdeck"}}},[t._v("\n          "+t._s(t.$t("auth.not-authenticated.click"))+"\n        ")])])],1)])],2)},n=[],r=a("be94"),s=a("714b"),o=a("2f62"),c={name:"Login",metaInfo:{title:"Login"},components:{Modal:s["a"]},data(){return{username:void 0,password:void 0,authError:!1}},computed:Object(r["a"])({},Object(o["e"])(["credentials"]),Object(o["c"])(["isAuthenticated"]),{client:{get(){return this.credentials.client},set(t){this.setClient(t)}},clientId:{get(){return this.credentials.clientId},set(t){this.setClientId(t)}},clientSecret:{get(){return this.credentials.clientSecret},set(t){this.setClientSecret(t)}}}),methods:Object(r["a"])({},Object(o["d"])(["setClient","setClientId","setClientSecret"]),Object(o["b"])(["authenticate","refreshAllColumns"]),{async login(){this.client||(this.client="afpdeck");try{await this.authenticate({username:this.username,password:this.password}),this.authError=!1,this.$route.query.redirect?this.$router.push(this.$route.query.redirect):this.$router.push({name:"deck"})}catch(t){this.authError=!0}await this.refreshAllColumns()}})},l=c,u=(a("a402"),a("2877")),d=Object(u["a"])(l,i,n,!1,null,"14c981ff",null);d.options.__file="Login.vue";e["default"]=d.exports},c7db:function(t,e,a){"use strict";var i=a("2b0e");i="default"in i?i["default"]:i;var n="2.2.2",r=/^2\./.test(i.version);r||i.util.warn("VueClickaway "+n+" only supports Vue 2.x, and does not support Vue "+i.version);var s="_vue_clickaway_handler";function o(t,e,a){c(t);var i=a.context,n=e.value;if("function"===typeof n){var r=!1;setTimeout(function(){r=!0},0),t[s]=function(e){var a=e.path||(e.composedPath?e.composedPath():void 0);if(r&&(a?a.indexOf(t)<0:!t.contains(e.target)))return n.call(i,e)},document.documentElement.addEventListener("click",t[s],!1)}}function c(t){document.documentElement.removeEventListener("click",t[s],!1),delete t[s]}var l={bind:o,update:function(t,e){e.value!==e.oldValue&&o(t,e)},unbind:c},u={directives:{onClickaway:l}};e.version=n,e.directive=l,e.mixin=u},f3bf:function(t,e,a){}}]);
//# sourceMappingURL=login.05d35dd6.js.map