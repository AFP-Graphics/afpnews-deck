(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"3ee3":function(t,e,n){},"714b":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper"},[n("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.close,expression:"close"}],staticClass:"modal-container"},[n("div",{staticClass:"modal-header"},[t._t("header")],2),n("div",{staticClass:"modal-body"},[t._t("body")],2),n("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])])},a=[],r=n("c7db"),s={name:"Modal",mixins:[r["mixin"]],methods:{close:function(){this.$emit("close")}}},o=s,c=(n("88cf"),n("2877")),l=Object(c["a"])(o,i,a,!1,null,"1e91815f",null);l.options.__file="Modal.vue";e["a"]=l.exports},"88cf":function(t,e,n){"use strict";var i=n("3ee3"),a=n.n(i);a.a},a402:function(t,e,n){"use strict";var i=n("f3bf"),a=n.n(i);a.a},a55b:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{on:{close:function(e){t.$router.push({name:"deck"})}}},[n("template",{slot:"header"},[t.isAuthenticated?n("h3",[t._v(t._s(t.$t("auth.success.title")))]):n("h3",[t._v(t._s(t.$t("auth.not-authenticated.title")))]),n("router-link",{staticClass:"btn btn-icon close",attrs:{to:{name:"deck"},"aria-label":"Close"}},[n("i",{staticClass:"UI-icon UI-close-alt icon-small"})])],1),n("template",{slot:"body"},[n("form",{class:{danger:t.authError},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.login(e)}}},["other"===t.client?n("div",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.clientId,expression:"clientId",modifiers:{trim:!0}}],staticClass:"inpt inpt-large inpt-bg",attrs:{id:"client-id",placeholder:t.$t("auth.clientId"),"aria-label":t.$t("auth.clientId"),type:"text",name:"client-id",autocomplete:"client-id",required:""},domProps:{value:t.clientId},on:{input:function(e){e.target.composing||(t.clientId=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.clientSecret,expression:"clientSecret",modifiers:{trim:!0}}],staticClass:"inpt inpt-large inpt-bg",attrs:{id:"client-secret",placeholder:t.$t("auth.clientSecret"),"aria-label":t.$t("auth.clientSecret"),type:"text",name:"client-secret",autocomplete:"client-secret",required:""},domProps:{value:t.clientSecret},on:{input:function(e){e.target.composing||(t.clientSecret=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]):t._e(),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.username,expression:"username",modifiers:{trim:!0}}],staticClass:"inpt inpt-large inpt-bg",attrs:{id:"username",placeholder:t.$t("auth.username"),"aria-label":t.$t("auth.username"),type:"text",name:"username",autocomplete:"username",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],staticClass:"inpt inpt-large inpt-bg",attrs:{id:"password",placeholder:t.$t("auth.password"),"aria-label":t.$t("auth.password"),type:"password",name:"password",autocomplete:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),n("button",{staticClass:"btn btn-large",attrs:{"aria-label":"Submit",type:"submit"}},[t._v("\n        "+t._s(t.$t("submit"))+"\n      ")]),n("i18n",{attrs:{path:"other"!==t.client?"auth.not-authenticated.external":"auth.not-authenticated.afp",tag:"p",for:"click"}},[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),"other"!==t.client?t.client="other":t.client="afpdeck"}}},[t._v("\n          "+t._s(t.$t("auth.not-authenticated.click"))+"\n        ")])])],1)])],2)},a=[],r=(n("96cf"),n("1da1")),s=n("be94"),o=n("714b"),c=n("2f62"),l={name:"Login",metaInfo:{title:"Login"},components:{Modal:o["a"]},data:function(){return{username:void 0,password:void 0,authError:!1}},computed:Object(s["a"])({},Object(c["e"])(["credentials"]),Object(c["c"])(["isAuthenticated"]),{client:{get:function(){return this.credentials.client},set:function(t){this.setClient(t)}},clientId:{get:function(){return this.credentials.clientId},set:function(t){this.setClientId(t)}},clientSecret:{get:function(){return this.credentials.clientSecret},set:function(t){this.setClientSecret(t)}}}),methods:Object(s["a"])({},Object(c["d"])(["setClient","setClientId","setClientSecret"]),Object(c["b"])(["authenticate","refreshAllColumns"]),{login:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.client||(this.client="afpdeck"),t.prev=1,t.next=4,this.authenticate({username:this.username,password:this.password});case 4:this.authError=!1,this.$route.query.redirect?this.$router.push(this.$route.query.redirect):this.$router.push({name:"deck"}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),this.authError=!0;case 11:return t.next=13,this.refreshAllColumns();case 13:case"end":return t.stop()}},t,this,[[1,8]])}));function e(){return t.apply(this,arguments)}return e}()})},u=l,d=(n("a402"),n("2877")),m=Object(d["a"])(u,i,a,!1,null,"14c981ff",null);m.options.__file="Login.vue";e["default"]=m.exports},c7db:function(t,e,n){"use strict";var i=n("2b0e");i="default"in i?i["default"]:i;var a="2.2.2",r=/^2\./.test(i.version);r||i.util.warn("VueClickaway "+a+" only supports Vue 2.x, and does not support Vue "+i.version);var s="_vue_clickaway_handler";function o(t,e,n){c(t);var i=n.context,a=e.value;if("function"===typeof a){var r=!1;setTimeout(function(){r=!0},0),t[s]=function(e){var n=e.path||(e.composedPath?e.composedPath():void 0);if(r&&(n?n.indexOf(t)<0:!t.contains(e.target)))return a.call(i,e)},document.documentElement.addEventListener("click",t[s],!1)}}function c(t){document.documentElement.removeEventListener("click",t[s],!1),delete t[s]}var l={bind:o,update:function(t,e){e.value!==e.oldValue&&o(t,e)},unbind:c},u={directives:{onClickaway:l}};e.version=a,e.directive=l,e.mixin=u},f3bf:function(t,e,n){}}]);
//# sourceMappingURL=login-legacy.d81e4643.js.map